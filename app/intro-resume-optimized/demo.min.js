function ChiptunePlayer(e){this.output=e}function LogoObject(e,t,r,i,a,o,n,c,s,E){this.logo=e,this.shaderX=t,this.shaderY=r,this.mvMatrix=mat4.create(),this.pMatrix=mat4.create(),this.effects=i,this.animation=a,this.wiggle=void 0==s?10:s,this.shadowEffectLayers=void 0==E?0:E,this.initialize(o,c,n)}function SceneSequencer(){this.scenes=[]}function TimeStepsSceneSequencer(e){this.scenes=[],this.timeSteps=e,TimeStepsSceneSequencer.prototype=SceneSequencer}function Scene(e){this.objects=e}function LogoCommentScene(e,t,r){LogoCommentScene.prototype=Scene,this.logo=e,this.comment=t,this.background=r}function LogoCommentsScene(e,t,r){LogoCommentScene.prototype=Scene,this.logo=e,this.comments=t,this.background=r}function LogoTwoTextScene(e,t,r){LogoCommentScene.prototype=Scene,this.logo=e,this.textUp=t,this.textDown=r}function SceneObject(){}function replaceAll(e,t,r){return r.replace(new RegExp(e,"g"),t)}function resetTimer(){globalStartTime=Date.now()}function timerValue(){return(Date.now()-globalStartTime)/1e3}function degToRad(e){return Math.PI*e/180}function handleLoadedTexture(e,t,r){r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!0),r.bindTexture(r.TEXTURE_2D,e),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR_MIPMAP_NEAREST),r.generateMipmap(r.TEXTURE_2D),r.bindTexture(r.TEXTURE_2D,null)}function clamp(e,t,r){return e>r?e:r>t?t:r}function createFramebuffer(e,t){var r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),r.width=512,r.height=512;var i=createTexture(e,t);return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,i,0),{texture:i,buffer:r}}function createTexture(e,t){var r=e.createTexture();return e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t.offsetWidth,t.offsetHeight,0,e.RGBA,e.UNSIGNED_BYTE,null),r}function FontStyle(e,t){this.font=e,this.characterTextures={},this.canvasSize=t}function FontStyle2(e,t){this.font=e,this.characterTextures={},this.canvasSize=t}function FontStyle3(e,t){this.list=e,this.characterTextures={},this.canvasSize=t}function BackgroundObject(e,t){this.entity=e,this.effects=t,this.globalScale=1,this.globalXRef=1,this.globalYRef=1}function TextSequencer(){this.parts={},this.addPart=function(){}}function TextEffect(){}function MovementEffect(){}function DisplacementEffect(e,t,r){this.prototype=MovementEffect,this.xValue=e,this.yValue=t,this.deltaPerSeconds=r}function FromOutsideEffect(){this.prototype=MovementEffect}function Centered(){this.prototype=MovementEffect,this.execute=function(){}}function Fader(e,t,r,i){this.startStart=e,this.startEnd=t,this.endStart=r,this.endEnd=i}function MovingFader(e,t,r,i){this.startStart=e,this.startEnd=t,this.endStart=r,this.endEnd=i}function AnimationProperties(e,t,r,i){this.x=e,this.y=t,this.sizeX=r,this.sizeY=i}function TextObject(e,t,r,i,a,o,n,c,s,E,C){this.text=t,this.font=e,this.shaderX=r,this.shaderY=i,this.texture=a,this.textureBorder=o,this.mvMatrix=mat4.create(),this.pMatrix=mat4.create(),this.effects=n,this.animation=c,this.globalScale=10,this.globalXRef=0,this.globalYRef=0,this.shadowEffectLayers=0,this.displacementCompression=1,this.initialize(s,E,C)}function getStart(e){if(0==e)return 0;for(var t=0;t<sceneSequencesTable.length;t++)if(sceneSequencesTable[t][1]==e)return sceneSequencesTable[t-1][0]}function getEnd(e){for(var t=0,r=0;r<sceneSequencesTable.length;r++)sceneSequencesTable[r][1]==e&&(t=sceneSequencesTable[r][0]);return t}function Intro(){this.fontStyles={},this.firstTimes={}}function RotationBalls(e,t,r,i,a){this.root={},this.children={},this.vertexPositionBuffer,this.vertexTextureCoordBuffer,this.vertexIndexBuffer,this.childrenses=e,this.radiuses=t,this.distances=r,this.valueFunction=i,this.texture=a}function RotationBallsNode(e){this.root=e,this.angle={},this.rot={},this.children={},this.level,this.child}function setMatrixUniforms(e,t,r,i){e.uniformMatrix4fv(t.pMatrixUniform,!1,i),e.uniformMatrix4fv(t.mvMatrixUniform,!1,r);var a=mat3.create();mat4.toInverseMat3(r,a),mat3.transpose(a),e.uniformMatrix3fv(t.nMatrixUniform,!1,a)}function RotationBallsNoLight(e,t,r,i,a){this.root={},this.children={},this.vertexPositionBuffer,this.vertexTextureCoordBuffer,this.vertexIndexBuffer,this.childrenses=e,this.radiuses=t,this.distances=r,this.valueFunction=i,this.texture=a}function affect(){var e=getNodes(),t=[1,1,0],r=.1;for(var i in e)i.level<20&&(i.x+=t[0]*r,i.y+=t[1]*r,i.z+=t[2]*r)}function getNodes(e){return getNodesNode(e.root)}function getNodesNode(e){var t=[];for(var e in e.children)t.push(e);return t}function BackgroundInterpolationObject(e,t,r){this.entity=e,this.globalScale=1,this.globalXRef=1,this.globalYRef=1,this.effects=r,this.frameSelector=new NextFrameSelector(t),this.wiggle=.2}function RandomFrameSelector(e){this.timeFrame=e,this.indexA=0,this.indexB=0,this.nextFrame=function(e){return Math.floor(Math.random()*e)},this.initializeInterpolation=function(e){this.indexA=Math.floor(Math.random()*e),this.indexA=this.indexB,this.indexB=this.nextFrame(e),this.lastUpdate=timerValue()},this.updateInterpolationValues=function(e){var t=timerValue();t-this.lastUpdate>this.timeFrame&&(this.indexA=this.indexB,this.indexB=this.nextFrame(e),this.lastUpdate=t)}}function NextFrameSelector(e){this.timeFrame=e,this.indexA=0,this.indexB=0,this.nextFrame=function(){return Math.floor(this.indexB+1)},this.initializeInterpolation=function(e){this.indexA=0,this.indexA>=e&&(this.indexA=0),this.indexB=this.nextFrame(e),this.indexB>=e&&(this.indexB=0),this.lastUpdate=timerValue()},this.updateInterpolationValues=function(e){var t=timerValue();t-this.lastUpdate>this.timeFrame&&(this.indexA=this.indexB,this.indexA>=e&&(this.indexA=0),this.indexB=this.nextFrame(e),this.indexB>=e&&(this.indexB=0),this.lastUpdate=t)}}ChiptunePlayer.prototype.fileCounter=0,ChiptunePlayer.prototype.generateFilename=function(){return"modfile"+this.fileCounter++},ChiptunePlayer.prototype.load=function(e,t,r){var i=function(){if(this.player_ptr=this.xmp.init(this.path),0==this.player_ptr){try{FS.deleteFile(this.path)}catch(e){}return r("could not initialize player")}return this.xmp.player_data[this.player_ptr]={stop:!0,pause:!1,looping:!!t},r()}.bind(this);if(e instanceof File){var a=this.generateFilename();this.path="/"+a;var o=new FileReader;o.onload=function(){FS.createDataFile("/",a,new Int8Array(o.result),!0,!0),i()},o.readAsArrayBuffer(e)}if("string"==typeof e){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer";var a=this.generateFilename();this.path="/"+a,n.onload=function(){FS.createDataFile("/",a,new Int8Array(n.response),!0,!0),i()},n.send()}},ChiptunePlayer.prototype.unload=function(){var e=this.xmp.player_data[this.player_ptr]||!1,t=this.xmp.player_data[this.player_ptr].pause,r=e&&!t;this.pause(),e&&(this.xmp.player_data[this.player_ptr].stop=!0),r||(this.xmp.free_player(this.player_ptr),delete this.xmp.player_data[this.player_ptr])},ChiptunePlayer.prototype.play=function(){this.isPaused()&&!this.isStopped()?this.resume():this.isStopped()&&(this.xmp.player_data[this.player_ptr].stop=!1,this.xmp.play.bind(this)(this.player_ptr,0,!0))},ChiptunePlayer.prototype.pause=function(){this.xmp.pause.bind(this)(this.player_ptr)},ChiptunePlayer.prototype.resume=function(){this.xmp.resume.bind(this)(this.player_ptr)},ChiptunePlayer.prototype.setLooping=function(e){this.xmp.setLooping.bind(this)(this.player_ptr,e)},ChiptunePlayer.prototype.isPaused=function(){return this.xmp.isPaused.bind(this)(this.player_ptr)},ChiptunePlayer.prototype.isStopped=function(){return this.xmp.isStopped.bind(this)(this.player_ptr)},ChiptunePlayer.prototype.xmp={init:Module.cwrap("initialize_player","number",["string"]),read:Module.cwrap("read_from_player","number",["number","bool"]),free_buffer:Module.cwrap("free_buffer","null",["number"]),free_player:Module.cwrap("free_player","null",["number"]),player_data:{},get_audio_source:function(e){var t=function(e){var t=function(e){var t=Module.getValue(e,"*"),r=Module.getValue(e+4,"i32");if(0!=r&&0!=t){var i=Module.HEAP8.subarray(t,t+r);return new Float32Array(i.buffer,t,r/4)}},r=this.xmp.read(e,this.xmp.player_data[e].looping),i=t(r);return this.xmp.free_buffer(r),i}.bind(this),r=t(e);if(void 0!==r){for(var i=0;19>i;i++){var a=t(e);if(void 0===a)break;var o=r;r=new Float32Array(o.length+a.length),r.set(o,0),r.set(a,o.length)}delete a,delete o;var n=context.createBuffer(1,r.length,44100);n.getChannelData(0).set(r);var c=context.createBufferSource();return c.buffer=n,c.connect(this.output),c}},play:function(e,t,r,i){if(r&&(this.xmp.player_data[e].next_src=this.xmp.get_audio_source.bind(this)(e)),this.xmp.player_data[e].stop===!0||void 0===this.xmp.player_data[e].next_src)return this.xmp.free_player(this.player_ptr),void delete this.xmp.player_data[e];if(!this.xmp.player_data[e].pause){var a=r?0:this.xmp.player_data[e].current_src.buffer.duration,o=r?context.currentTime:t+a;i&&(o=i),this.xmp.player_data[e].last_src=this.xmp.player_data[e].current_src,this.xmp.player_data[e].current_src=this.xmp.player_data[e].next_src,this.xmp.player_data[e].current_src.start(o),this.xmp.player_data[e].current_src.timeScheduled=o;var n=this.xmp.player_data[e].current_src.buffer.duration,c=r?1e3*n/2:1e3*n,s=setTimeout(this.xmp.play.bind(this,e,o),c);this.xmp.player_data[e].timerId=s,this.xmp.player_data[e].next_src=this.xmp.get_audio_source.bind(this)(e)}},pause:function(e){this.xmp.player_data[e]&&(this.xmp.player_data[e].last_src&&this.xmp.player_data[e].last_src.stop(0),this.xmp.player_data[e].current_src&&this.xmp.player_data[e].current_src.stop(0),this.xmp.player_data[e].pause=context.currentTime,clearTimeout(this.xmp.player_data[e].timerId))},resume:function(e){if(this.xmp.player_data[e]&&this.xmp.player_data[e].pause&&!this.xmp.player_data[e].stop){var t=this.xmp.player_data[e].pause-this.xmp.player_data[e].current_src.timeScheduled,r=0;if(t>0&&t<this.xmp.player_data[e].current_src.buffer.duration){var i=context.createBufferSource();i.buffer=this.xmp.player_data[e].current_src.buffer,i.connect(this.output),i.start(0,t),r=context.currentTime+this.xmp.player_data[e].current_src.buffer.duration-t}this.xmp.player_data[e].pause=void 0,this.xmp.play.bind(this)(e,0,!1,r)}},setLooping:function(e,t){this.xmp.player_data[e].looping=t},isPaused:function(e){try{return this.xmp.player_data[e].pause?!0:!1}catch(t){return!1}},isStopped:function(e){try{return this.xmp.player_data[e].stop?!0:!1}catch(t){return!0}}};var LogoObjectFragmentShaderSrc="precision mediump float; varying vec2 vTextureCoord; uniform sampler2D uSampler; uniform highp float faderValue; uniform float time; uniform float wiggle; varying float xx; varying float yy; void main(void) { 	vec2 wiggledTexCoord = vTextureCoord; 	float x = wiggledTexCoord.s, y = wiggledTexCoord.t; 	wiggledTexCoord.s += VALUEPA; 	wiggledTexCoord.t += VALUEPB;    vec4 textureColor = texture2D(uSampler, vec2(wiggledTexCoord.s, wiggledTexCoord.t)); 	if (textureColor.r + textureColor.g + textureColor.b >= 0.02) {		float x = wiggledTexCoord.s * wiggle, y = wiggledTexCoord.t * wiggle;		vec4 v = textureColor; 		gl_FragColor = vec4(v.x, v.y, v.z, faderValue); 	}  	else 		gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);}",LogoObjectVertexShaderSrc="attribute vec3 aVertexPosition; attribute vec2 aTextureCoord; uniform mat4 uMVMatrix; uniform mat4 uPMatrix; uniform mat3 uNMatrix; varying vec2 vTextureCoord; varying vec3 vLightWeighting; void main(void) { 	gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0); 	vTextureCoord = aTextureCoord; 	vLightWeighting = vec3(1.0, 1.0, 1.0); }";LogoObject.prototype.initialize=function(e,t,r){this.initializeVertexBuffer(t),this.initShadersLogoObject(t),this.setMatrixUniformsText(t),this.canvasSize=r,this.initializeLogoTexture(e,t)},LogoObject.prototype.initializeLogoTexture=function(e,t){var r=document.getElementById(e),i=r.getContext("2d");r.width=this.canvasSize,r.height=this.canvasSize,this.createTexture(i,r,this.font,t)},LogoObject.prototype.createTexture=function(e,t,r,i){e.fillStyle="#FFFFFF",e.fillRect(0,0,this.canvasSize,this.canvasSize);var a=document.getElementById(this.logo);e.drawImage(a,0,0),this.logoTexture=i.createTexture(),handleLoadedTexture(this.logoTexture,t,i)},LogoObject.prototype.initializeVertexBuffer=function(e){this.squareVertexPositionBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.squareVertexPositionBuffer);var t=[1,1,0,0,1,0,1,0,0,0,0,0];e.bufferData(e.ARRAY_BUFFER,new Float32Array(t),e.STATIC_DRAW),this.itemSize=3,this.numItems=4},LogoObject.prototype.initShadersLogoObject=function(e){var t=e.createShader(e.VERTEX_SHADER);e.shaderSource(t,LogoObjectVertexShaderSrc),e.compileShader(t);var r=e.createShader(e.FRAGMENT_SHADER),i=LogoObjectFragmentShaderSrc;i=i.replace("VALUEPA",this.shaderX.toLowerCase()),i=i.replace("VALUEPB",this.shaderY.toLowerCase()),e.shaderSource(r,i),e.compileShader(r),this.shaderProgram=e.createProgram();var a=this.shaderProgram;e.attachShader(a,t),e.attachShader(a,r),e.linkProgram(a),e.getProgramParameter(a,e.LINK_STATUS)||console.log("Could not initialise shaders."),e.useProgram(a),a.vertexPositionAttribute=e.getAttribLocation(a,"aVertexPosition"),e.enableVertexAttribArray(a.vertexPositionAttribute),a.textureCoordAttribute=e.getAttribLocation(a,"aTextureCoord"),e.enableVertexAttribArray(a.textureCoordAttribute),a.pMatrixUniform=e.getUniformLocation(a,"uPMatrix"),a.mvMatrixUniform=e.getUniformLocation(a,"uMVMatrix"),a.nMatrixUniform=e.getUniformLocation(a,"uNMatrix"),a.samplerUniform=e.getUniformLocation(a,"uSampler"),a.faderValue=e.getUniformLocation(a,"faderValue"),a.time=e.getUniformLocation(a,"time"),a.wiggle=e.getUniformLocation(a,"wiggle")},LogoObject.prototype.setMatrixUniformsText=function(e){e.uniformMatrix4fv(this.shaderProgram.pMatrixUniform,!1,this.pMatrix),e.uniformMatrix4fv(this.shaderProgram.mvMatrixUniform,!1,this.mvMatrix)},LogoObject.prototype.render=function(e){timerValue(),e.useProgram(this.shaderProgram);for(var t in this.effects)this.effects[t].apply(this);e.enable(e.BLEND),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight),mat4.identity(this.pMatrix),mat4.ortho(0,this.animation.sizeX,0,this.animation.sizeY,.1,100,this.pMatrix),mat4.identity(this.mvMatrix),mat4.translate(this.mvMatrix,[0,0,-1]);var r=e.getUniformLocation(this.shaderProgram,"time");if(e.uniform1f(r,timerValue()),r=e.getUniformLocation(this.shaderProgram,"faderValue"),e.uniform1f(r,this.transparencyValue),r=e.getUniformLocation(this.shaderProgram,"wiggle"),e.uniform1f(r,this.wiggle),e.bindBuffer(e.ARRAY_BUFFER,this.squareVertexPositionBuffer),e.vertexAttribPointer(this.shaderProgram.vertexPositionAttribute,this.itemSize,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,this.squareVertexPositionBuffer),e.vertexAttribPointer(this.shaderProgram.textureCoordAttribute,this.itemSize,e.FLOAT,!1,0,0),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,this.logoTexture),this.shadowEffectLayers>0){shitAngle+=.001;for(var i=Math.cos(shitAngle),a=Math.sin(shitAngle),o=0;o<this.shadowEffectLayers;o++){mat4.identity(this.mvMatrix);var n=.025*(o+1);mat4.translate(this.mvMatrix,[n*i,n*a,-.1]),e.uniform1i(this.shaderProgram.samplerUniform,0),e.drawArrays(e.TRIANGLE_STRIP,0,this.numItems)}}mat4.translate(this.mvMatrix,[this.animation.x,this.animation.y,0]),this.setMatrixUniformsText(e),e.bindTexture(e.TEXTURE_2D,this.logoTexture),e.uniform1i(this.shaderProgram.samplerUniform,0),e.drawArrays(e.TRIANGLE_STRIP,0,this.numItems)},TimeStepsSceneSequencer.prototype.getSceneNumber=function(){for(var e=0;e<this.timeSteps.length;e++)if(timerValue()<this.timeSteps[e][0])return this.timeSteps[e][1];return this.scenes.length-1},TimeStepsSceneSequencer.prototype.addScene=function(e){this.scenes[this.scenes.length]=e},TimeStepsSceneSequencer.prototype.render=function(e){var t=this.getSceneNumber();this.scenes[t].render(e)},Scene.prototype.render=function(e){for(var t in this.objects)this.objects[t].render(e);this.renderFps(e)};var fpsObject,last=99999,frames=0,framesDelta=20,delta;Scene.prototype.renderFps=function(e){if(void 0==this.fpsObject){var t="0.0",r="0.0",i="CREATEVECTOR(0.0, 0.0, 0.0)",a="CREATEVECTOR(0.0, 0.0, 0.8)",o=new FontStyle("Verdana",128);o.initialize(e,"textureCanvas"),this.fpsObject=new TextObject(o,"",t,r,i,a,[],new AnimationProperties(14,19,20,20),"textureCanvas",e),this.fpsObject.transparencyValue=1}if(frames++,frames>=framesDelta){var n=performance.now();delta=n-last,last=n,frames=0,this.fpsObject.text=1e3/delta+" fps"}this.fpsObject.render(e)},LogoCommentScene.prototype.render=function(e){e.clearColor(0,0,0,1),e.clear(e.COLOR_BUFFER_BIT),this.background.render(e),this.logo.render(e),this.comment.render(e),this.renderFps(e)},LogoCommentScene.prototype.renderFps=Scene.prototype.renderFps,LogoCommentsScene.prototype.render=function(e){e.clearColor(0,0,0,1),e.clear(e.COLOR_BUFFER_BIT),this.background.render(e),this.logo.render(e);for(var t in this.comments)this.comments[t].render(e);this.renderFps(e)},LogoCommentsScene.prototype.renderFps=Scene.prototype.renderFps,LogoTwoTextScene.prototype.render=function(e){e.clear(e.COLOR_BUFFER_BIT),this.logo.render(e),this.textUp.render(e),this.textDown.render(e)};var globalStartTime=0,globalTime=0,globalVa=0,globalVb=0,globalVc=0,globalVd=0,deltaTime=.1;FontStyle.prototype.initialize=function(e,t){var r=document.getElementById(t),i=r.getContext("2d");r.width=this.canvasSize,r.height=this.canvasSize,this.createTexture(i," ",r,this.font,e);for(var a=0;256>a;a++)this.createTexture(i,String.fromCharCode(a),r,this.font,e)},FontStyle.prototype.createTexture=function(e,t,r,i,a){e.fillStyle="#FFFFFF",e.fillRect(0,0,this.canvasSize,this.canvasSize),e.fillStyle="#000000",e.font=this.canvasSize+5+"px "+i,e.fillText(t,9,this.canvasSize),null==this.characterTextures&&(this.characterTextures={}),this.characterTextures[t]=a.createTexture(),handleLoadedTexture(this.characterTextures[t],r,a)},FontStyle2.prototype.initialize=function(e,t){var r=document.getElementById(t),i=r.getContext("2d");r.width=this.canvasSize,r.height=this.canvasSize,this.createTexture(i," ",r,this.font,e);for(var a=0;256>a;a++)this.createTexture(i,String.fromCharCode(a),r,this.font,e)},FontStyle2.prototype.createTexture=function(e,t,r,i,a){e.fillStyle="#FFFFFF",e.fillRect(0,0,this.canvasSize,this.canvasSize),e.fillStyle="#000000",e.font="96px "+i+" bold",e.fillText(t,44,80),e.lineWidth=4,e.strokeStyle="black",e.strokeText(t,44,80),null==this.characterTextures&&(this.characterTextures={}),this.characterTextures[t]=a.createTexture(),handleLoadedTexture(this.characterTextures[t],r,a)},FontStyle3.prototype.initialize=function(e,t){var r=document.getElementById(t),i=r.getContext("2d");r.width=this.canvasSize,r.height=this.canvasSize;for(var a in this.list)this.createTextureFromCanvas(i,this.list[a],r,e)},FontStyle3.prototype.createTextureFromCanvas=function(e,t,r,i){var a=t.split("-");e.fillStyle="#FFFFFF",e.fillRect(0,0,this.canvasSize,this.canvasSize);var o=document.getElementById(t);e.drawImage(o,0,0),null==this.characterTextures&&(this.characterTextures={}),this.characterTextures["pvm-letter-espacio"==t?" ":a[2]]=i.createTexture(),handleLoadedTexture(this.characterTextures["pvm-letter-espacio"==t?" ":a[2]],r,i)};var RGBBackgroundVertextShaderSrc="attribute vec3 aVertexPosition; attribute vec2 aTextureCoord; uniform mat4 uMVMatrix; uniform mat4 uPMatrix; varying float xx, yy; void main(void) { 	vec2 coord = aTextureCoord; 	gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 2.0); 	xx = clamp(aVertexPosition.x,0.0,1.0); 	yy = clamp(aVertexPosition.y,0.0,1.0); }",RGBBackgroundFragmentShaderSrc="precision mediump float; uniform float time; uniform float faderValue; varying float xx; varying float yy; uniform float va; uniform float vb; uniform float vc; uniform float vd; vec3 veccos(in vec3 a) { return vec3(cos(a.x), cos(a.y), cos(a.z)); } vec3 vecsin(in vec3 a) { return vec3(sin(a.x), sin(a.y), sin(a.z)); } vec3 vectan(in vec3 a) { return vec3(tan(a.x), tan(a.y), tan(a.z)); } vec3 vecabs(in vec3 a) { return vec3(abs(a.x), abs(a.y), abs(a.z)); } vec3 vecsqr(in vec3 a) { return vec3(a.x * a.x, a.y * a.y, a.z * a.z); } vec3 vecadd(in vec3 a, in vec3 b) { return vec3(a.x + b.x, a.y + b.y, a.z + b.z); } vec3 vecsubstract(in vec3 a, in vec3 b) { return vec3(a.x - b.x, a.y - b.y, a.z - b.z); } vec3 vecmultiply(in vec3 a, in vec3 b) { return vec3(a.x * b.x, a.y * b.y, a.z * b.z); } vec3 vecdiv(in vec3 a, in vec3 b) { return vec3(a.x / b.x, a.y / b.y, a.z / b.z); } vec3 createvector(in float a, in float b, in float c) { return vec3(a, b, c); } vec3 veccolormap(in vec3 a, in vec3 b, in vec3 c) { return createvector(a.x / 10.0, b.x / 10.0, c.x / 10.0); } void main(void) { 	float ra = va, rb = vb, rc = vc, rd = vd; 	float x = xx * 10.0, y = yy * 10.0; 	vec3 v = VALUE; 	gl_FragColor = vec4(v.x * faderValue, v.y * faderValue, v.z * faderValue, 1.0); }";BackgroundObject.prototype.initialize=function(e){this.mvMatrix=mat4.create(),this.pMatrix=mat4.create(),this.initBuffersRGB(e),this.initShadersRGBAnimate(e)},BackgroundObject.prototype.render=function(e){var t=timerValue();e.useProgram(this.shaderProgram);for(var r in this.effects)this.effects[r].apply(this);var i=e.getUniformLocation(this.shaderProgram,"va");e.uniform1f(i,t),i=e.getUniformLocation(this.shaderProgram,"vb"),e.uniform1f(i,globalVb),i=e.getUniformLocation(this.shaderProgram,"vc"),e.uniform1f(i,globalVc),i=e.getUniformLocation(this.shaderProgram,"vd"),e.uniform1f(i,globalVd),i=e.getUniformLocation(this.shaderProgram,"time"),e.uniform1f(i,timerValue()),i=e.getUniformLocation(this.shaderProgram,"faderValue"),e.uniform1f(i,this.transparencyValue),e.disable(e.DEPTH_TEST),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight),mat4.identity(this.pMatrix),mat4.ortho(0,1,0,1,.1,100,this.pMatrix),mat4.identity(this.mvMatrix),mat4.translate(this.mvMatrix,[0,0,-10]),e.bindBuffer(e.ARRAY_BUFFER,this.squareVertexPositionBuffer),e.vertexAttribPointer(this.shaderProgram.vertexPositionAttribute,this.itemSize,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,this.squareVertexPositionBuffer),e.vertexAttribPointer(this.shaderProgram.textureCoordAttribute,this.itemSize,e.FLOAT,!1,0,0),this.setMatrixUniforms(e),e.drawArrays(e.TRIANGLE_STRIP,0,this.numItems)},BackgroundObject.prototype.initBuffersRGB=function(e){this.squareVertexPositionBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.squareVertexPositionBuffer);var t=[2,2,0,0,2,0,2,0,0,0,0,0];e.bufferData(e.ARRAY_BUFFER,new Float32Array(t),e.STATIC_DRAW),this.itemSize=3,this.numItems=4},BackgroundObject.prototype.initShadersRGBAnimate=function(e){var t=e.createShader(e.VERTEX_SHADER);e.shaderSource(t,RGBBackgroundVertextShaderSrc),e.compileShader(t);var r=e.createShader(e.FRAGMENT_SHADER),i=RGBBackgroundFragmentShaderSrc;i=i.replace("VALUESCALE",this.globalScale.toFixed(2).toString()),i=i.replace("VALUEXREF",this.globalXRef.toFixed(2).toString()),i=i.replace("VALUEYREF",this.globalYRef.toFixed(2).toString()),i=i.replace("VALUE",this.entity.toLowerCase()),e.shaderSource(r,i),e.compileShader(r),this.shaderProgram=e.createProgram();var a=this.shaderProgram;e.attachShader(a,t),e.attachShader(a,r),e.linkProgram(a),e.getProgramParameter(a,e.LINK_STATUS)||console.log("Could not initialise shaders for "+this.entity),e.useProgram(a),a.vertexPositionAttribute=e.getAttribLocation(a,"aVertexPosition"),e.enableVertexAttribArray(a.vertexPositionAttribute),a.textureCoordAttribute=e.getAttribLocation(a,"aTextureCoord"),e.enableVertexAttribArray(a.textureCoordAttribute),a.pMatrixUniform=e.getUniformLocation(a,"uPMatrix"),a.mvMatrixUniform=e.getUniformLocation(a,"uMVMatrix")},BackgroundObject.prototype.setMatrixUniforms=function(e){e.uniformMatrix4fv(this.shaderProgram.pMatrixUniform,!1,this.pMatrix),e.uniformMatrix4fv(this.shaderProgram.mvMatrixUniform,!1,this.mvMatrix)},this.render=function(){},DisplacementEffect.prototype.apply=function(e){var t=timerValue()/this.deltaPerSeconds;e.animation.x+=t*this.xValue,e.animation.y+=t*this.yValue},Fader.prototype.apply=function(e){var t=timerValue();e.transparencyValue=t<this.startStart?0:t<this.startEnd?clamp(0,1,(t-this.startStart)/(this.startEnd-this.startStart)):t<this.endStart?1:t<this.endEnd?clamp(0,1,1-(t-this.endStart)/(this.endEnd-this.endStart)):0},MovingFader.prototype.apply=function(e){var t,r=timerValue();e.transparencyValue=1,t=r<this.startStart?1:r<this.startEnd?1-1*(r-this.startStart)/(this.startEnd-this.startStart):r<this.endStart?0:r<this.endEnd?0-1*(r-this.endStart)/(this.endEnd-this.endStart):-1,void 0==e.animation.originalX&&(e.animation.originalX=e.animation.x),e.animation.x=e.animation.originalX+3*t};var TextLogoFragmentShaderSrc="precision mediump float; varying vec2 vTextureCoord; uniform sampler2D uSampler; uniform highp float faderValue; varying float xx; varying float yy; uniform float va; uniform float vb; uniform float vc; uniform float vd; uniform float time; vec3 veccos(in vec3 a) { return vec3(cos(a.x), cos(a.y), cos(a.z)); } vec3 vecsin(in vec3 a) { return vec3(sin(a.x), sin(a.y), sin(a.z)); } vec3 vectan(in vec3 a) { return vec3(tan(a.x), tan(a.y), tan(a.z)); } vec3 vecabs(in vec3 a) { return vec3(abs(a.x), abs(a.y), abs(a.z)); } vec3 vecsqr(in vec3 a) { return vec3(a.x * a.x, a.y * a.y, a.z * a.z); } vec3 vecadd(in vec3 a, in vec3 b) { return vec3(a.x + b.x, a.y + b.y, a.z + b.z); } vec3 vecsubstract(in vec3 a, in vec3 b) { return vec3(a.x - b.x, a.y - b.y, a.z - b.z); } vec3 vecmultiply(in vec3 a, in vec3 b) { return vec3(a.x * b.x, a.y * b.y, a.z * b.z); } vec3 vecdiv(in vec3 a, in vec3 b) { return vec3(a.x / b.x, a.y / b.y, a.z / b.z); } vec3 createvector(in float a, in float b, in float c) { return vec3(a, b, c); } vec3 veccolormap(in vec3 a, in vec3 b, in vec3 c) { return createvector(a.x / 10.0, b.x / 10.0, c.x / 10.0); } float divideprotected(in float x, in float y) { if (abs(y) < 0.001) return 0.0; return x / y; }float sqr(in float x) { return x * x; }void main(void) { 	highp vec2 wiggledTexCoord = vTextureCoord; 	float x = wiggledTexCoord.s, y = wiggledTexCoord.t; 	wiggledTexCoord.s += VALUEPA; 	wiggledTexCoord.t += VALUEPB;    vec4 textureColor = texture2D(uSampler, vec2(wiggledTexCoord.s, wiggledTexCoord.t)); 	if (textureColor.r < 0.6) {		float x = wiggledTexCoord.s * 10.0, y = wiggledTexCoord.t * 10.0;		vec3 v = VALUE; 		float fillBorder = 0.0; 		if (texture2D(uSampler, vec2(wiggledTexCoord.s, wiggledTexCoord.t)).r > 0.0) fillBorder = 1.0; 		if (fillBorder < 0.01)  			gl_FragColor = vec4(v.x, v.y, v.z, faderValue); 		else { 			vec4 vb = vec4(VALUEBORDER, faderValue);  			gl_FragColor = vb; }	}  	else 		gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);}",TextLogoVertexShaderSrc="attribute vec3 aVertexPosition; attribute vec2 aTextureCoord; uniform mat4 uMVMatrix; uniform mat4 uPMatrix; varying vec2 vTextureCoord; varying vec3 vLightWeighting; void main(void) { 	gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0); 	vTextureCoord = aTextureCoord; 	vLightWeighting = vec3(1.0, 1.0, 1.0); }",TextLogoFragmentShaderSrc2="precision mediump float; varying vec2 vTextureCoord; uniform sampler2D uSampler; uniform highp float faderValue; varying float xx; varying float yy; uniform float va; uniform float vb; uniform float vc; uniform float vd; uniform float time; vec3 veccos(in vec3 a) { return vec3(cos(a.x), cos(a.y), cos(a.z)); } vec3 vecsin(in vec3 a) { return vec3(sin(a.x), sin(a.y), sin(a.z)); } vec3 vectan(in vec3 a) { return vec3(tan(a.x), tan(a.y), tan(a.z)); } vec3 vecabs(in vec3 a) { return vec3(abs(a.x), abs(a.y), abs(a.z)); } vec3 vecsqr(in vec3 a) { return vec3(a.x * a.x, a.y * a.y, a.z * a.z); } vec3 vecadd(in vec3 a, in vec3 b) { return vec3(a.x + b.x, a.y + b.y, a.z + b.z); } vec3 vecsubstract(in vec3 a, in vec3 b) { return vec3(a.x - b.x, a.y - b.y, a.z - b.z); } vec3 vecmultiply(in vec3 a, in vec3 b) { return vec3(a.x * b.x, a.y * b.y, a.z * b.z); } vec3 vecdiv(in vec3 a, in vec3 b) { return vec3(a.x / b.x, a.y / b.y, a.z / b.z); } vec3 createvector(in float a, in float b, in float c) { return vec3(a, b, c); } vec3 veccolormap(in vec3 a, in vec3 b, in vec3 c) { return createvector(a.x / 10.0, b.x / 10.0, c.x / 10.0); } float divideprotected(in float x, in float y) { if (abs(y) < 0.001) return 0.0; return x / y; }float sqr(in float x) { return x * x; }void main(void) { 	highp vec2 wiggledTexCoord = vTextureCoord; 	float x = wiggledTexCoord.s, y = wiggledTexCoord.t; 	wiggledTexCoord.s += VALUEPA; 	wiggledTexCoord.t += VALUEPB;    vec4 textureColor = texture2D(uSampler, vec2(wiggledTexCoord.s, wiggledTexCoord.t)); 	if (textureColor.r + textureColor.g + textureColor.b >= 0.02) {		float x = wiggledTexCoord.s * 10.0, y = wiggledTexCoord.t * 10.0;		vec4 v = textureColor; 		gl_FragColor = vec4(v.x, v.y, v.z, faderValue); 	}  	else 		gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);}";TextObject.prototype.initialize=function(e,t,r){this.fontShader=void 0==r?TextLogoFragmentShaderSrc:r,this.initializeVertexBuffer(t),this.initShadersTextLogo(t),this.scale=1},TextObject.prototype.initializeVertexBuffer=function(e){this.squareVertexPositionBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.squareVertexPositionBuffer);var t=[1,1,0,0,1,0,1,0,0,0,0,0];e.bufferData(e.ARRAY_BUFFER,new Float32Array(t),e.STATIC_DRAW),this.itemSize=3,this.numItems=4},TextObject.prototype.initShadersTextLogo=function(e){var t=e.createShader(e.VERTEX_SHADER);e.shaderSource(t,TextLogoVertexShaderSrc),e.compileShader(t);var r=e.createShader(e.FRAGMENT_SHADER),i=this.fontShader;i=i.replace("VALUESCALE",this.globalScale.toFixed(2).toString()),i=i.replace("VALUEXREF",this.globalXRef.toFixed(2).toString()),i=i.replace("VALUEYREF",this.globalYRef.toFixed(2).toString()),i=i.replace("VALUEPA",this.shaderX.toLowerCase()),i=i.replace("VALUEPB",this.shaderY.toLowerCase()),i=i.replace("VALUEBORDER",this.textureBorder.toLowerCase()),i=i.replace("VALUEBORDER",this.textureBorder.toLowerCase()),i=i.replace("VALUE",this.texture.toLowerCase()),e.shaderSource(r,i),e.compileShader(r),this.shaderProgram=e.createProgram();var a=this.shaderProgram;e.attachShader(a,t),e.attachShader(a,r),e.linkProgram(a),e.getProgramParameter(a,e.LINK_STATUS)||console.log("Could not initialise shaders."),e.useProgram(a),a.vertexPositionAttribute=e.getAttribLocation(a,"aVertexPosition"),e.enableVertexAttribArray(a.vertexPositionAttribute),a.textureCoordAttribute=e.getAttribLocation(a,"aTextureCoord"),e.enableVertexAttribArray(a.textureCoordAttribute),a.pMatrixUniform=e.getUniformLocation(a,"uPMatrix"),a.mvMatrixUniform=e.getUniformLocation(a,"uMVMatrix"),a.samplerUniform=e.getUniformLocation(a,"uSampler"),a.faderValue=e.getUniformLocation(a,"faderValue")},TextObject.prototype.setMatrixUniformsText=function(e){e.uniformMatrix4fv(this.shaderProgram.pMatrixUniform,!1,this.pMatrix),e.uniformMatrix4fv(this.shaderProgram.mvMatrixUniform,!1,this.mvMatrix)};var shitAngle=0;TextObject.prototype.render=function(e){var t=this.animation.sizeY,r=this.animation.sizeX;e.useProgram(this.shaderProgram);for(var i in this.effects)this.effects[i].apply(this);e.enable(e.BLEND),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight),mat4.identity(this.pMatrix),mat4.ortho(0,r,0,t,.1,100,this.pMatrix);var a=timerValue(),o=e.getUniformLocation(this.shaderProgram,"va");e.uniform1f(o,a),o=e.getUniformLocation(this.shaderProgram,"time"),e.uniform1f(o,timerValue()),o=e.getUniformLocation(this.shaderProgram,"faderValue"),e.uniform1f(o,this.transparencyValue),o=e.getUniformLocation(this.shaderProgram,"vb"),e.uniform1f(o,globalVb),o=e.getUniformLocation(this.shaderProgram,"vc"),e.uniform1f(o,globalVc),o=e.getUniformLocation(this.shaderProgram,"vd"),e.uniform1f(o,globalVd),e.bindBuffer(e.ARRAY_BUFFER,this.squareVertexPositionBuffer),e.vertexAttribPointer(this.shaderProgram.vertexPositionAttribute,this.itemSize,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,this.squareVertexPositionBuffer),e.vertexAttribPointer(this.shaderProgram.textureCoordAttribute,this.itemSize,e.FLOAT,!1,0,0),e.activeTexture(e.TEXTURE0);
var n=this.animation.x,c=this.animation.y;if(o=e.getUniformLocation(this.shaderProgram,"faderValue"),e.disable(e.DEPTH_TEST),this.shadowEffectLayers>0){shitAngle+=.001;for(var s=Math.cos(shitAngle),E=Math.sin(shitAngle),C=0;C<this.shadowEffectLayers;C++){mat4.identity(this.mvMatrix);var l=.025*(C+1);mat4.translate(this.mvMatrix,[l*s,l*E,-.1]),e.uniform1f(o,this.transparencyValue/(C*C+2)),this.drawText(this.text,n,c,1,e,this.animation.charactersAnimation)}}mat4.identity(this.mvMatrix),mat4.translate(this.mvMatrix,[0,0,-.5]),e.uniform1f(o,this.transparencyValue),this.drawText(this.text,n,c,1,e,this.animation.charactersAnimation)},TextObject.prototype.drawText=function(e,t,r,i,a,o){var n=t;mat4.translate(this.mvMatrix,[t,r,0]),this.setMatrixUniformsText(a);var c=this.mvMatrix;c=mat4.create(),mat4.set(this.mvMatrix,c);for(var s=0;s<e.length;s++){a.uniformMatrix4fv(this.shaderProgram.mvMatrixUniform,!1,c),this.renderCharacter(e[s],n,r,i,a);var E=o?o.x:0,C=o?o.y:0;mat4.translate(c,[i/this.displacementCompression+E,C,0])}},TextObject.prototype.renderCharacter=function(e,t,r,i,a){a.bindTexture(a.TEXTURE_2D,this.font.characterTextures[e]),a.uniform1i(this.shaderProgram.samplerUniform,0),a.drawArrays(a.TRIANGLE_STRIP,0,this.numItems)};var fontSizeLeyendaX=7.15,fontSizeLeyendaY=5.4,fontTextureEffect1="VECDIV(CREATEVECTOR(Y*4.0,Y*4.0,Y*4.0),VECADD(VECABS(CREATEVECTOR(X*4.0,0.9347,Y*4.0)),VECSUBSTRACT(CREATEVECTOR(0.6904,X*4.0,0.8712),VECADD(CREATEVECTOR(0.6295,Y*4.0,Y*4.0),VECSQR(VECADD(VECTAN(CREATEVECTOR(Y*4.0,X*4.0,X*4.0)),VECTAN(CREATEVECTOR(X*4.0,Y*4.0,Y*4.0))))))))",fontBorderTextureEffect1="CREATEVECTOR(0.00,0.0, 0.0)",fontTextureEffect2="CREATEVECTOR(0.0,0.0,0.1)",fontBorderTextureEffect2="CREATEVECTOR(0.8,0.8, 0.8)",balls7,balls13,sceneSequencesTable=[[23,0],[27.5,1],[39,2],[45,3],[62,12],[77.77,4],[94,11],[117.1,5],[149.55,8],[166,7],[180.93,13],[197.5,14],[235,10],[999999,15]];Intro.prototype.render=function(e){this.sequencer.render(e)},Intro.prototype.addTexts=function(e,t,r,i,a,o,n,c,s,E,C,l){for(var v=0;v<s.length;v++){var T=r+c[v]-c[0],u=T+E,h=new TextObject(this.fontStyles.comment,s[v],o,n,fontTextureEffect1,fontBorderTextureEffect1,[new Fader(T,T+.1,u,u+.8)],new AnimationProperties(i/2-.3*s[v].length,v%2==0?a/2:a/6,i,a),t,e);h.shadowEffectLayers=15,h.displacementCompression=C,h.scale=1,l.push(h)}},Intro.prototype.addTextsGreets=function(e,t,r,i,a,o,n,c,s,E,C,l){for(var v=0;v<s.length;v++){var T=r+c[v]-c[0],u=T+E,h=new TextObject(this.fontStyles.comment,s[v],o,n,fontTextureEffect2,fontBorderTextureEffect2,[new Fader(T,T+.5,u,u+.5)],new AnimationProperties(i/2-.3*s[v].length,a/2,i,a),t,e);h.displacementCompression=C,h.scale=1,l.push(h)}},Intro.prototype.addTextsGreetsDiz=function(e,t,r,i,a,o,n,c,s,E,C,l){for(var v=0;v<s.length;v++){var T=r+c[v]-c[0],u=T+E,h=new LogoObject("diz-"+s[v],o,n,[new MovingFader(T,T+.5,u,u+.5)],new AnimationProperties(1,.5,3,4),t,256,e,0,0);l.push(h)}},Intro.prototype.initialize=function(e,t){this.sequencer=new TimeStepsSceneSequencer(sceneSequencesTable);var r=new FontStyle3(["pvm-letter-P","pvm-letter-V","pvm-letter-M"],256);r.initialize(e,t),this.fontStyles.logo=r;var i=new FontStyle2("Verdana",128);i.initialize(e,t),this.fontStyles.comment=i,this.initializeScene1(e,t),this.initializeScene2(e,t),this.initializeScene3(e,t),this.initializeScene4(e,t),this.initializeScene5(e,t),this.initializeScene6(e,t),this.initializeScene7(e,t),this.initializeScene8(e,t),this.initializeScene9(e,t),this.initializeScene10(e,t),this.initializeScene11(e,t),this.initializeScene12(e,t),this.initializeScene13(e,t),this.initializeScene14(e,t),this.initializeScene15(e,t),this.initializeScene16(e,t)},Intro.prototype.initializeScene1=function(e,t){var r=[],i="TIME * 3.0",a="DIVIDEPROTECTED(DIVIDEPROTECTED((DIVIDEPROTECTED("+i+",((SIN(7.0000)-Y)-X))*5.0000),SQR("+i+")),"+i+")",o="2.0",n="vecdiv(createvector(y,0.4960,x),vecsubstract(createvector(x,y,x),vecdiv(createvector(0.6722,x,x),vecdiv(veccos(vecsqr(createvector(y,y,y))),vecdiv(vectan(vecsubstract(vectan(createvector(y,x,x)),vectan(createvector(x,y,y)))),vecabs(vecsin(vecsqr(createvector(x,x,x)))))))))",c="vecsubstract(createvector(0.4348,0.3668,0.7623),vecdiv(vecsin(createvector(y,x,x)),vecadd(veccos(vecabs(createvector(x,x,x))),vecadd(vectan(createvector(y,x,x)),vectan(createvector(x,y,y)))))) ",s=new TextObject(this.fontStyles.logo,"PVM",a,o,n,c,[new Fader(2,5,11.9,12.4)],new AnimationProperties(0,2,3,3),t,e,TextLogoFragmentShaderSrc2);a="sin(time * 4.0 + 4.0 * 3.141592653589 * y) * 0.02",o="sin(time * 4.0 + 4.0 * 3.141592653589 * x) * 0.02",n="vecdiv(createvector(y,0.4960,x),vecsubstract(createvector(x,y,x),vecdiv(createvector(0.6722,x,x),vecdiv(veccos(vecsqr(createvector(y,y,y))),vecdiv(vectan(vecsubstract(vectan(createvector(y,x,x)),vectan(createvector(x,y,y)))),vecabs(vecsin(vecsqr(createvector(x,x,x)))))))))",c="vecsubstract(createvector(0.4348,0.3668,0.7623),vecdiv(vecsin(createvector(y,x,x)),vecadd(veccos(vecabs(createvector(x,x,x))),vecadd(vectan(createvector(y,x,x)),vectan(createvector(x,y,y)))))) ",r.push(new TextObject(this.fontStyles.comment,"presents",a,o,n,c,[new Fader(8.05,8.55,9.7,10.5)],new AnimationProperties(1,2.2,10,10),t,e)),a="ABS(COS(SIN(DIVIDEPROTECTED(3.0000,DIVIDEPROTECTED(COS(Y),((Y-(((SQR(DIVIDEPROTECTED(7.0000,SQR(COS(TIME))))-Y)-COS(X))-COS(1.0000)))+(COS(SIN(X))+0.0000)))))))",o="3.0",n="vecdiv(createvector(y,0.4960,x),vecsubstract(createvector(x,y,x),vecdiv(createvector(0.6722,x,x),vecdiv(veccos(vecsqr(createvector(y,y,y))),vecdiv(vectan(vecsubstract(vectan(createvector(y,x,x)),vectan(createvector(x,y,y)))),vecabs(vecsin(vecsqr(createvector(x,x,x)))))))))",c="vecsubstract(createvector(0.4348,0.3668,0.7623),vecdiv(vecsin(createvector(y,x,x)),vecadd(veccos(vecabs(createvector(x,x,x))),vecadd(vectan(createvector(y,x,x)),vectan(createvector(x,y,y)))))) ",r.push(new TextObject(this.fontStyles.comment,"lunAtic",a,o,n,c,[new Fader(13.9,14.5,22,22.5)],new AnimationProperties(.5,2.5,8,5),t,e)),r.push(new TextObject(this.fontStyles.comment,"pAtRol",a,o,n,c,[new Fader(15.9,16.5,22,22.5)],new AnimationProperties(.5,1,8,5),t,e));var E=getStart(0),C=getEnd(0),l=new BackgroundObject("VECMULTIPLY(VECMULTIPLY(VECMULTIPLY(VECCOS(CREATEVECTOR(X,TIME,X)),VECSIN(CREATEVECTOR(Y,X,Y))),VECSIN(VECTAN(CREATEVECTOR(Y,Y,0.3119)))),VECSIN(CREATEVECTOR(TIME,Y,Y)))",[new Fader(E,E+2.5,C-.5,C)]);l.initialize(e);var v=new LogoCommentsScene(s,r,l,t,e);this.sequencer.addScene(v)},Intro.prototype.initializeScene2=function(e,t){var r=getStart(1),i=getEnd(1),a=new BackgroundInterpolationObject(["VECDIV(CREATEVECTOR(0.4762,0.2805,0.5222),VECADD(VECCOS(VECSQR(VECADD(CREATEVECTOR(Y,0.4019,VA),VECSQR(VECSQR(VECDIV(CREATEVECTOR(Y,Y,X),VECCOS(VECCOS(CREATEVECTOR(X,X,Y))))))))),VECTAN(VECSIN(VECADD(VECSIN(CREATEVECTOR(0.5033,X,Y)),VECABS(VECSUBSTRACT(CREATEVECTOR(TIME,TIME,TIME),CREATEVECTOR(Y,Y,X))))))))","VECCOS(VECADD(VECSIN(VECTAN(VECTAN(CREATEVECTOR(0.5435,X,0.0763)))),VECDIV(VECSQR(VECCOS(CREATEVECTOR(0.7337,0.6061,0.9804))),VECMULTIPLY(VECCOS(CREATEVECTOR(X,Y,Y)),VECCOS(VECABS(CREATEVECTOR(Y,X,X)))))))"],4,[new Fader(r,r+.5,i-.5,i)]);a.initialize(e);var o="ABS((X-TIME / 15.0))",n="ABS(COS (X))",c="VECTAN(VECABS(VECMULTIPLY(VECCOS(VECMULTIPLY(VECSUBSTRACT(CREATEVECTOR(0.8047,TIME-11.0,0.3076),CREATEVECTOR(0.0111,0.3683,0.7230)),CREATEVECTOR(Y,Y,Y))),VECCOS(CREATEVECTOR(0.1449,Y,Y)))))",s="vecsubstract(createvector(0.4348,0.3668,0.7623),vecdiv(vecsin(createvector(y,x,x)),vecadd(veccos(vecabs(createvector(x,x,x))),vecadd(vectan(createvector(y,x,x)),vectan(createvector(x,y,y)))))) ",E=new TextObject(this.fontStyles.comment,"M",o,n,c,s,[new Fader(r,r+2,i-.5,i)],new AnimationProperties(0,0,1,1),t,e),C=[a,E];this.addTexts(e,t,r,fontSizeLeyendaX,fontSizeLeyendaY,"sin(time * 4.0 + 4.0 * 3.141592653589 * y) * 0.02","sin(time * 4.0 + 4.0 * 3.141592653589 * x) * 0.02",[2.3,5.15],["After","18 years"],1,1.8,C);var l=new Scene(C,t,e);this.sequencer.addScene(l)},Intro.prototype.initializeScene3=function(e,t){var r=getStart(2),i=getEnd(2),a="VECDIV(VECTAN(CREATEVECTOR(0.7337,0.2008,0.2437)),VECMULTIPLY(VECCOS(VECSQR(VECADD(CREATEVECTOR(0.2230,X,0.1844),VECSQR(VECCOS(VECADD(CREATEVECTOR(Y,Y,X),VECSQR(VECCOS(CREATEVECTOR(X,X,Y))))))))),VECTAN(VECSIN(VECADD(VECSIN(CREATEVECTOR(X,Y,Y)),VECSIN(VECABS(CREATEVECTOR(Y,X,X))))))))",o="VECCOS(VECADD(VECSIN(VECTAN(VECTAN(CREATEVECTOR(0.5435,X,0.0763)))),VECDIV(VECSQR(VECCOS(CREATEVECTOR(0.7337,0.6061,0.9804))),VECMULTIPLY(VECCOS(CREATEVECTOR(X,Y,Y)),VECCOS(VECABS(CREATEVECTOR(Y,X,X)))))))",n="VECADD(VECMULTIPLY(VECMULTIPLY(VECSIN(CREATEVECTOR(X,Y,0.5138)),VECSIN(VECSIN(CREATEVECTOR(Y,Y,X)))),VECMULTIPLY(VECSUBSTRACT(VECCOS(CREATEVECTOR(X,Y,Y)),VECSUBSTRACT(CREATEVECTOR(X,X,X),VECSIN(VECSQR(CREATEVECTOR(Y,Y,0.7301))))),VECSUBSTRACT(VECCOS(VECSQR(CREATEVECTOR(X,X,X))),VECMULTIPLY(VECTAN(CREATEVECTOR(Y,X,X)),VECTAN(CREATEVECTOR(X,Y,Y)))))),VECSIN(CREATEVECTOR(X,X,0.2810)))",c=new BackgroundInterpolationObject([a,o,n],1,[new Fader(r,r+.5,i-.5,i)]);c.initialize(e);var s=[c];this.addTexts(e,t,r,fontSizeLeyendaX,fontSizeLeyendaY,"sin(time * 4.0 + 4.0 * 3.141592653589 * y) * 0.02","sin(time * 4.0 + 4.0 * 3.141592653589 * x) * 0.02",[3.99,6.5,8.1,10.1,12.1,14],["finally","its","all","about","ascii","code"],1,1.8,s);var E=new Scene(s,t,e);this.sequencer.addScene(E)},Intro.prototype.initializeScene4=function(e,t){var r=getStart(3),i=getEnd(3),a="VECCOS(VECADD(VECSIN(VECTAN(VECTAN(CREATEVECTOR(0.5435,X,0.0763)))),VECDIV(VECSQR(VECCOS(VECSQR(CREATEVECTOR(0.9249,0.3733,0.7626)))),VECMULTIPLY(VECCOS(CREATEVECTOR(X,Y,Y)),VECCOS(VECABS(CREATEVECTOR(Y,X,X)))))))",o="VECSQR(VECADD(VECSIN(CREATEVECTOR(0.0858,0.2451,0.7434)),VECDIV(VECSQR(VECABS(CREATEVECTOR(0.4328,0.2288,0.3219))),VECMULTIPLY(VECCOS(CREATEVECTOR(X,Y,Y)),VECCOS(VECABS(CREATEVECTOR(Y,X,X)))))))",n="VECMULTIPLY(VECTAN(VECSUBSTRACT(VECCOS(VECADD(CREATEVECTOR(X,X,X),CREATEVECTOR(Y,Y,Y))),CREATEVECTOR(0.8120,0.7272,0.6734))),VECTAN(VECADD(VECSIN(CREATEVECTOR(X,X,X)),VECABS(VECCOS(CREATEVECTOR(Y,Y,Y))))))",c=new BackgroundInterpolationObject([a,a,o,o,n,n,a,a,o,o,a,o,a,o],.5,[new Fader(r,r+.5,i-.5,i)]),s="ABS((X-TIME / 15.0))",E="ABS(COS (X))",C="VECTAN(VECABS(VECMULTIPLY(VECCOS(VECMULTIPLY(VECSUBSTRACT(CREATEVECTOR(0.8047,TIME-11.0,0.3076),CREATEVECTOR(0.0111,0.3683,0.7230)),CREATEVECTOR(Y,Y,Y))),VECCOS(CREATEVECTOR(0.1449,Y,Y)))))",l="vecsubstract(createvector(0.4348,0.3668,0.7623),vecdiv(vecsin(createvector(y,x,x)),vecadd(veccos(vecabs(createvector(x,x,x))),vecadd(vectan(createvector(y,x,x)),vectan(createvector(x,y,y)))))) ",v=new TextObject(this.fontStyles.comment,"M",s,E,C,l,[new Fader(r,r+2,i-.5,i)],new AnimationProperties(0,0,1,1),t,e),T=[c,v];this.addTexts(e,t,r,fontSizeLeyendaX,fontSizeLeyendaY,"sin(time * 4.0 + 4.0 * 3.141592653589 * y) * 0.02","sin(time * 4.0 + 4.0 * 3.141592653589 * x) * 0.02",[0,.5,2.3],["","and","chiptunes"],1,1.8,T),c.initialize(e);var u=new Scene(T,t,e);this.sequencer.addScene(u)},Intro.prototype.initializeScene5=function(e,t){var r=getStart(4),i=getEnd(4),a="VECDIV(VECTAN(CREATEVECTOR(0.7337,0.2008,0.2437)),VECMULTIPLY(VECCOS(VECSQR(VECADD(VECCOS(VECCOS(VECSQR(CREATEVECTOR(Y,X,0.5408)))),VECSIN(VECCOS(CREATEVECTOR(Y,X,Y)))))),VECSIN(VECCOS(VECABS(CREATEVECTOR(X,Y,X))))))",o="VECMULTIPLY(VECTAN(CREATEVECTOR(0.7337,0.2008,0.2437)),VECSUBSTRACT(VECCOS(VECSQR(VECADD(CREATEVECTOR(X,0.1579,0.1870),VECSQR(VECCOS(VECADD(CREATEVECTOR(Y,Y,X),VECSQR(VECCOS(CREATEVECTOR(X,X,Y))))))))),VECTAN(VECTAN(VECADD(VECSIN(CREATEVECTOR(X,Y,Y)),VECSIN(VECABS(CREATEVECTOR(Y,X,X)))))))) ",n="VECDIV(CREATEVECTOR(Y,0.3843,0.1653),VECADD(VECCOS(VECSQR(VECADD(VECADD(CREATEVECTOR(Y,Y,X),VECSQR(VECCOS(CREATEVECTOR(X,X,Y)))),VECSQR(VECTAN(CREATEVECTOR(X,X,X)))))),VECTAN(VECTAN(VECMULTIPLY(VECSIN(CREATEVECTOR(X,Y,Y)),VECSIN(VECABS(CREATEVECTOR(Y,X,X))))))))",c="VECDIV(CREATEVECTOR(Y,0.4960,X),VECSUBSTRACT(CREATEVECTOR(0.3089,0.3865,X),VECDIV(CREATEVECTOR(0.6229,0.5024,Y),VECDIV(VECCOS(VECSQR(CREATEVECTOR(0.1493,Y,0.9701))),VECDIV(VECTAN(VECSUBSTRACT(VECTAN(CREATEVECTOR(Y,X,X)),VECTAN(CREATEVECTOR(X,Y,Y)))),VECABS(VECSIN(VECSQR(CREATEVECTOR(X,X,X)))))))))",s="VECADD(VECMULTIPLY(VECSUBSTRACT(VECCOS(CREATEVECTOR(X,Y,Y)),VECSUBSTRACT(CREATEVECTOR(X,0.8655,0.2657),VECTAN(CREATEVECTOR(0.0106,X,X)))),VECSQR(VECTAN(VECSQR(CREATEVECTOR(0.4360,X,X))))),VECSIN(CREATEVECTOR(X,X,0.2810)))",E="VECDIV(VECTAN(CREATEVECTOR(0.7337,0.2008,0.2437)),VECSUBSTRACT(VECCOS(VECSQR(VECADD(CREATEVECTOR(X,0.1579,0.1870),VECSQR(VECCOS(VECADD(CREATEVECTOR(Y,Y,X),VECSQR(VECCOS(CREATEVECTOR(X,X,Y))))))))),VECTAN(VECTAN(VECADD(VECSIN(CREATEVECTOR(X,Y,Y)),VECSIN(VECABS(CREATEVECTOR(Y,X,X))))))))",C="VECMULTIPLY(CREATEVECTOR(0.4762,0.2805,0.5222),VECADD(VECCOS(VECSQR(VECADD(CREATEVECTOR(0.3897,0.0352,Y),VECSQR(VECSQR(VECDIV(CREATEVECTOR(Y,Y,X),VECSQR(VECCOS(CREATEVECTOR(X,X,Y))))))))),VECTAN(VECSQR(VECADD(VECSIN(CREATEVECTOR(X,Y,Y)),VECSIN(VECCOS(CREATEVECTOR(Y,X,X))))))))",l="VECADD(VECDIV(VECCOS(CREATEVECTOR(Y,X,X)),VECSUBSTRACT(VECCOS(VECABS(CREATEVECTOR(Y,Y,X))),VECSUBSTRACT(VECTAN(CREATEVECTOR(Y,X,X)),VECTAN(CREATEVECTOR(X,Y,Y))))),VECSQR(CREATEVECTOR(0.2807,0.5310,0.7941)))",v="VECMULTIPLY(CREATEVECTOR(Y,0.9766,X),VECMULTIPLY(VECCOS(VECSQR(VECADD(CREATEVECTOR(0.3897,0.0352,Y),VECSQR(VECSQR(VECDIV(CREATEVECTOR(Y,Y,X),VECSIN(VECADD(VECABS(CREATEVECTOR(X,Y,Y)),VECTAN(VECCOS(CREATEVECTOR(Y,X,X))))))))))),VECSIN(VECSIN(VECSUBSTRACT(VECABS(CREATEVECTOR(X,Y,Y)),VECTAN(VECCOS(CREATEVECTOR(Y,X,X))))))))",T="VECMULTIPLY(CREATEVECTOR(X,0.2385,0.7130),VECDIV(VECCOS(CREATEVECTOR(Y,X,X)),VECSUBSTRACT(VECCOS(VECABS(CREATEVECTOR(Y,Y,X))),VECADD(VECTAN(CREATEVECTOR(Y,X,X)),VECTAN(CREATEVECTOR(X,Y,Y))))))",u="VECDIV(VECDIV(VECSQR(CREATEVECTOR(0.6564,0.8339,0.9091)),VECADD(VECCOS(CREATEVECTOR(Y,X,0.9622)),VECABS(VECABS(VECCOS(CREATEVECTOR(X,Y,X)))))),VECSUBSTRACT(VECCOS(CREATEVECTOR(Y,X,Y)),VECABS(VECABS(VECSIN(CREATEVECTOR(X,Y,X))))))",h="VECMULTIPLY(VECADD(VECCOS(CREATEVECTOR(X,Y,Y)),VECDIV(VECADD(VECCOS(VECCOLORMAP(CREATEVECTOR(X,Y,0.5092),CREATEVECTOR(X,0.8838,Y),CREATEVECTOR(Y,Y,Y))),VECSUBSTRACT(CREATEVECTOR(X,0.8464,Y),VECCOS(VECSQR(CREATEVECTOR(Y,Y,0.7301))))),VECSUBSTRACT(VECCOS(VECSQR(CREATEVECTOR(X,X,X))),VECMULTIPLY(VECTAN(CREATEVECTOR(Y,X,X)),VECTAN(CREATEVECTOR(X,Y,Y)))))),VECSIN(CREATEVECTOR(0.5298,0.6165,0.7772)))",d="VECDIV(CREATEVECTOR(0.5563,0.3002,X),VECDIV(VECCOS(VECSQR(VECTAN(CREATEVECTOR(Y,X,Y)))),VECTAN(VECSIN(VECSUBSTRACT(VECSIN(CREATEVECTOR(X,Y,X)),VECSIN(VECABS(CREATEVECTOR(0.7565,0.8848,Y))))))))",f="VECADD(VECMULTIPLY(VECSUBSTRACT(VECCOS(CREATEVECTOR(X,Y,Y)),VECSUBSTRACT(CREATEVECTOR(X,0.8655,0.2657),VECSIN(CREATEVECTOR(0.0106,X,X)))),VECSQR(VECTAN(VECSQR(CREATEVECTOR(Y,X,Y))))),VECSIN(CREATEVECTOR(Y,X,Y)))",V="VECMULTIPLY(VECMULTIPLY(VECMULTIPLY(VECCOS(CREATEVECTOR(X,TIME * 2.0,X)),VECSIN(CREATEVECTOR(Y,X,Y))),VECABS(VECTAN(CREATEVECTOR(X,X,X)))),VECSIN(CREATEVECTOR(TIME * 2.0,Y,Y)))",x=new BackgroundInterpolationObject([n,o,E,c,a,d,s,f,v,T,l,u,C,h,h,V,h,V,h,V,V],1,[new Fader(r,r+.5,i-.5,i)]);x.initialize(e);var m=[x];this.addTexts(e,t,r,fontSizeLeyendaX,fontSizeLeyendaY,"sin(time * 4.0 + 4.0 * 3.14159 * y) * 0.02","sin(time * 4.0 + 4.0 * 3.14159 * x) * 0.02",[0,2,4.5,6.5,8.5,10.5,12.5,14.5,16.5,18.6],["we","proudly","saludate","our","dead","old","friends"],2,1.8,m);var R=new Scene(m,t,e);this.sequencer.addScene(R)},Intro.prototype.initializeScene6=function(e,t){var r=getStart(5),i=getEnd(5),a="VECMULTIPLY(VECTAN(CREATEVECTOR(0.7337,0.2008,0.2437)),VECSUBSTRACT(VECCOS(VECSQR(VECADD(CREATEVECTOR(X,0.1579,0.1870),VECSQR(VECCOS(VECADD(CREATEVECTOR(Y,Y,X),VECTAN(VECCOS(CREATEVECTOR(X,X,Y))))))))),VECSQR(VECTAN(VECSUBSTRACT(VECSIN(CREATEVECTOR(X,Y,Y)),VECSIN(VECABS(CREATEVECTOR(Y,X,X))))))))",o="VECMULTIPLY(VECTAN(CREATEVECTOR(0.7337,0.2008,0.2437)),VECSUBSTRACT(VECCOS(VECSQR(VECADD(CREATEVECTOR(Y,0.9574,0.3637),VECTAN(VECCOS(VECADD(CREATEVECTOR(Y,Y,X),VECTAN(VECCOS(CREATEVECTOR(X,X,Y))))))))),VECSQR(VECTAN(VECSUBSTRACT(VECSIN(CREATEVECTOR(X,Y,Y)),VECSIN(VECABS(CREATEVECTOR(Y,X,X))))))))",n="VECMULTIPLY(VECTAN(CREATEVECTOR(0.7337,0.2008,0.2437)),VECSUBSTRACT(VECCOS(VECSQR(VECADD(CREATEVECTOR(0.7337,0.2008,0.2437),VECSQR(VECCOS(VECADD(CREATEVECTOR(Y,Y,X),VECTAN(VECCOS(CREATEVECTOR(X,X,Y))))))))),VECSQR(VECTAN(VECSUBSTRACT(VECSIN(CREATEVECTOR(X,Y,Y)),VECSIN(VECABS(CREATEVECTOR(Y,X,X))))))))",c="VECDIV(VECTAN(CREATEVECTOR(0.7337,0.2008,0.2437)),VECSUBSTRACT(VECCOS(VECSQR(VECADD(CREATEVECTOR(0.7337,0.2008,0.2437),VECSQR(VECCOS(VECADD(CREATEVECTOR(Y,Y,X),VECTAN(VECCOS(CREATEVECTOR(X,X,Y))))))))),VECSQR(VECTAN(VECSUBSTRACT(VECSIN(CREATEVECTOR(X,Y,Y)),VECSIN(VECABS(CREATEVECTOR(Y,X,X))))))))",s="sin(time * 4.0 + 4.0 * 3.14159 * y) * 0.02",E="sin(time * 4.0 + 4.0 * 3.14159 * x) * 0.02",C=new LogoObject("logo-one-pwr2",s,E,[new Fader(r+4,r+6.5,i-.5,i)],new AnimationProperties(0,0,1,1),t,1024,e,0,0),l=new BackgroundInterpolationObject([o,a,o,a,o,a,o,n,c],.5,[new Fader(r,r+.5,i-.5,i)]);l.initialize(e);var v=new Scene([l,C],t,e);this.sequencer.addScene(v)},Intro.prototype.initializeScene7=function(e,t){var r=getStart(6),i=getEnd(6),a=new RotationBalls([5,4,5,3,6,0],[3,1,.5,.25,.1,.05,.02,.01],[8.5,3.3,1.2,.45,.25,.11,.05],function(e){var t={};return t.x=0,t.y=1.5*e.level,t.z=.1*(1+4*e.level),t},"vecadd(vectan(createvector(0.7337,0.2008,0.2437)),vecmultiply(vecmultiply(vectan(vecsubstract(vecmultiply(vectan(vecsubstract(vecsqr(createvector(x,y,y)),vecsin(vecabs(createvector(y,x,x))))),vecsin(createvector(0.0748,0.0758,0.0612))),vecsin(veccos(createvector(0.8157,y,0.7878))))),vecabs(veccos(createvector(y,time,0.4963)))),vecsin(veccos(vecabs(createvector(y,x,x))))))");balls7=a;var o=new BackgroundInterpolationObject(["VECADD(VECCOS(CREATEVECTOR(X,Y,0.2621)),VECSUBSTRACT(VECSIN(CREATEVECTOR(Y,Y,X)),VECSUBSTRACT(VECCOS(VECSQR(CREATEVECTOR(Y,Y,0.8839))),VECMULTIPLY(VECTAN(CREATEVECTOR(Y,X,X)),VECTAN(CREATEVECTOR(X,Y,Y))))))","VECMULTIPLY(VECCOS(VECSUBSTRACT(VECCOS(VECSUBSTRACT(CREATEVECTOR(X,X,X),VECSQR(CREATEVECTOR(0.6954,0.4549,0.1528)))),CREATEVECTOR(Y,Y,Y))),VECTAN(VECDIV(CREATEVECTOR(0.8998,X,Y),CREATEVECTOR(0.6947,0.1799,Y))))"],3,[new Fader(r,r+.5,i-.5,i)]);o.globalXRef=8.6,o.globalYRef=.8,o.globalScale=1.6,o.initialize(e),a.initialize(e);var n=new Scene([o,a],t,e);this.sequencer.addScene(n)},Intro.prototype.initializeScene8=function(e,t){var r=getStart(7),i=getEnd(7),a=new RotationBalls([3,12,3,3,3,0],[0,1,.5,.25,.1,.05,.02,.01],[8.5,3.3,1.2,.45,.25,.11,.05],function(e){var t={};return t.x=Math.sin(1.5*e.level),t.y=0,t.z=.1*(1+4*e.level),t},"vecadd(vectan(createvector(0.7337,0.2008,0.2437)),vecmultiply(vecmultiply(vectan(vecsubstract(vecmultiply(vectan(vecsubstract(vecsqr(createvector(x,y,y)),vecsin(vecabs(createvector(y,x,x))))),vecsin(createvector(0.0748,0.0758,0.0612))),vecsin(veccos(createvector(0.8157,y,0.7878))))),vecabs(veccos(createvector(y,time,0.4963)))),vecsin(veccos(vecabs(createvector(y,x,x))))))"),o=new BackgroundInterpolationObject(["VECDIV(CREATEVECTOR(Y,0.4960,X),VECSUBSTRACT(CREATEVECTOR(0.3089,0.3865,X),VECDIV(CREATEVECTOR(0.6229,0.5024,Y),VECDIV(VECCOS(VECSQR(CREATEVECTOR(Y,Y,X))),VECDIV(VECTAN(VECSUBSTRACT(VECTAN(CREATEVECTOR(Y,X,X)),VECTAN(CREATEVECTOR(X,Y,Y)))),VECABS(VECSIN(VECSQR(CREATEVECTOR(X,X,X)))))))))"],1,[new Fader(r,r+.5,i-.5,i)]);o.globalXRef=8.6,o.globalYRef=.8,o.globalScale=1.6,o.initialize(e),a.initialize2(e,balls7.shaderProgram);var n=new Scene([o,a],t,e);this.sequencer.addScene(n)},Intro.prototype.initializeScene9=function(e,t){var r=getStart(8),i=getEnd(8),a=new RotationBalls([7,11,3,3,3,0],[0,1,.5,.25,.1,.05,.02,.01],[8.5,3.3,1.2,.45,.25,.11,.05],function(e){var t={};return t.x=.1,t.y=.9,t.z=.1*(1+e.child),t},"vecadd(vectan(createvector(0.7337,0.2008,0.2437)),vecmultiply(vecmultiply(vectan(vecsubstract(vecmultiply(vectan(vecsubstract(vecsqr(createvector(x,y,y)),vecsin(vecabs(createvector(y,x,x))))),vecsin(createvector(0.0748,0.0758,0.0612))),vecsin(veccos(createvector(0.8157,y,0.7878))))),vecabs(veccos(createvector(y,time,0.4963)))),vecsin(veccos(vecabs(createvector(y,x,x))))))"),o=new BackgroundInterpolationObject(["VECMULTIPLY(VECCOS(VECSUBSTRACT(VECCOS(VECSUBSTRACT(CREATEVECTOR(X,X,X),VECSQR(CREATEVECTOR(0.6954,0.4549,0.1528)))),CREATEVECTOR(Y,Y,Y))),VECTAN(VECDIV(CREATEVECTOR(0.8998,X,Y),CREATEVECTOR(0.6947,0.1799,Y))))"],1,[new Fader(r,r+.5,i-.5,i)]);o.globalXRef=8.6,o.globalYRef=.8,o.globalScale=1.6,o.initialize(e),a.initialize2(e,balls7.shaderProgram);var n=new Scene([o,a],t,e);this.sequencer.addScene(n)},Intro.prototype.initializeScene10=function(e,t){var r=getStart(9),i=getEnd(9),a=replaceAll("X","(X + (TIME - 130.0) / 5.0)","VECMULTIPLY(CREATEVECTOR(X,0.2385,0.7130),VECDIV(CREATEVECTOR(0.5576,X,X),VECSUBSTRACT(CREATEVECTOR(X,Y,Y),VECSUBSTRACT(VECTAN(CREATEVECTOR(Y,X,X)),VECTAN(CREATEVECTOR(X,Y,Y))))))"),o=replaceAll("X","(X + (TIME - 130.0) / 5.0)","VECDIV(VECCOS(VECADD(VECSUBSTRACT(CREATEVECTOR(X,X,X),CREATEVECTOR(Y,Y,Y)),CREATEVECTOR(0.2301,X,0.5006))),VECABS(VECADD(CREATEVECTOR(0.4323,0.6904,0.8312),VECABS(VECSIN(CREATEVECTOR(X,X,0.1817))))))"),n=replaceAll("X","(X + (TIME - 130.0) / 5.0)","VECMULTIPLY(VECMULTIPLY(VECMULTIPLY(VECCOS(CREATEVECTOR(X,TIME,X)),VECSIN(CREATEVECTOR(Y,X,Y))),VECABS(VECTAN(CREATEVECTOR(X,X,X)))),VECSIN(CREATEVECTOR(TIME,Y,Y)))"),c=new BackgroundInterpolationObject([a,a,a,a,a,o,o,o,o,o,n,n,n,n,n],1,[new Fader(r,r+.5,i-.5,i)]);c.initialize(e);var s=new Scene([c],t,e);this.sequencer.addScene(s)},Intro.prototype.initializeScene11=function(e,t){var r=getStart(10),i=getEnd(10),a=new BackgroundInterpolationObject(["VECDIV(CREATEVECTOR(0.5589,0.5945,0.9570),VECSUBSTRACT(CREATEVECTOR(Y,TIME,X),VECADD(VECCOS(CREATEVECTOR(X,0.8116,0.3758)),VECCOS(VECABS(VECADD(CREATEVECTOR(TIME,TIME,TIME),VECMULTIPLY(CREATEVECTOR(X,Y,Y),VECADD(VECCOS(CREATEVECTOR(X,Y,Y)),VECABS(VECABS(CREATEVECTOR(Y,X,X)))))))))))"],1,[new Fader(r,r+.5,i-2.5,i)]),o="sin(time * 4.0 + 4.0 * 3.14159 * y) * 0.005",n="sin(time * 4.0 + 4.0 * 3.14159 * x) * 0.005",c=new LogoObject("logo-pvm-pwr2",o,n,[new Fader(r+.5,r+1,i-.5,i)],new AnimationProperties(.5,2.5,2,4),t,512,e,1,0);a.wiggle=0,a.initialize(e);for(var s=[a,c],E=[],C=["a","b","c","d","e","f","g","h","i","j","k","l"],l=0;l<C.length;l++)E.push(2.5*(l+1));this.addTextsGreets(e,t,r,20,20,"sin(time * 4.0 + 4.0 * 3.14159 * y) * 0.01","sin(time * 4.0 + 4.0 * 3.14159 * x) * 0.01",[30,32.5,35],["code by octavo","gfx by arlek","music by uctumi"],1,1.8,s),this.addTextsGreetsDiz(e,t,r,3,3,"sin(time * 4.0 + 4.0 * 3.14159 * y) * 0.01","sin(time * 4.0 + 4.0 * 3.14159 * x) * 0.01",E,C,1,1.8,s);var v=new Scene(s,t,e);this.sequencer.addScene(v)},Intro.prototype.initializeScene12=function(e,t){var r=getStart(11),i=getEnd(11),a=new RotationBalls([6,3,4,3,2,2,1,0],[0,1.8,1.61,.54,.4,.35,.21],[1.8,5.1,1.87,1.41,1.3,1.11],function(e){var t={};return t.x=.09*(timerValue()-r)*Math.cos(e.level),t.y=.05*Math.sin(e.level)*Math.cos(timerValue()-r),t.z=.7/Math.cos(e.level*(timerValue()/500-r)),t},"vecdiv(vecdiv(vecsqr(createvector(0.8381,0.1180,0.5559)),vecadd(veccos(createvector(y,x,0.9622)),vecabs(vecabs(veccos(vectan(createvector(0.4207,y,y))))))),vecadd(veccos(createvector(y,x,y)),vecabs(vecabs(vecsin(createvector(x,y,x))))))"),o="(VECSUBSTRACT(CREATEVECTOR(0.8047,TIME,0.3076),CREATEVECTOR( 0.7337,TIME*0.2008,0.2437)))",n="VECADD(VECMULTIPLY(VECCOS(VECMULTIPLY(VECSUBSTRACT(CREATEVECTOR(0.1047,TIME,0.3076),CREATEVECTOR(0.3042,X,0.4730)),CREATEVECTOR(Y,Y,Y))),VECTAN(CREATEVECTOR(0.1449,Y,Y))),CREATEVECTOR(Y,0.3816,0.0614))",c="VECDIV(VECTAN(CREATEVECTOR(0.1337,0.9008,0.6437)),VECSUBSTRACT(CREATEVECTOR(0.6990,0.1617,0.1529),VECSQR(VECSIN(VECSUBSTRACT(VECCOS(CREATEVECTOR(TIME,TIME,TIME)),VECMULTIPLY(VECSIN(CREATEVECTOR(X,Y,Y)),VECCOS(VECABS(CREATEVECTOR(Y,X,X)))))))))",s="sin(time * 4.0 + 4.0 * 3.14159 * y) * 0.02",E="sin(time * 4.0 + 4.0 * 3.14159 * x) * 0.02",C=new BackgroundInterpolationObject([o,n,c],5,[new Fader(r,r+.5,i-.5,i)]),l=new TextObject(this.fontStyles.comment,"back",s,E,fontTextureEffect2,fontBorderTextureEffect2,[new Fader(r+.5,r+1.5,r+2.5,r+3)],new AnimationProperties(0,1,10,10),t,e);l.shadowEffectLayers=15,l.displacementCompression=1.8;var v=new TextObject(this.fontStyles.comment,"from",s,E,fontTextureEffect2,fontBorderTextureEffect2,[new Fader(r+3,r+3.5,r+4.5,r+5)],new AnimationProperties(7,1,10,10),t,e);v.shadowEffectLayers=15,v.displacementCompression=1.8;var T=new TextObject(this.fontStyles.comment,"1996",s,E,fontTextureEffect2,fontBorderTextureEffect2,[new Fader(r+5.5,r+6,r+6.5,r+7)],new AnimationProperties(0,9,10,10),t,e);T.shadowEffectLayers=15,T.displacementCompression=1.8;var u=new TextObject(this.fontStyles.comment,"scene",s,E,fontTextureEffect2,fontBorderTextureEffect2,[new Fader(r+7.5,r+8,r+8.5,r+9)],new AnimationProperties(7,9,10,10),t,e);u.shadowEffectLayers=15,u.displacementCompression=1.8,C.initialize(e),a.initialize(e);var h=new Scene([C,a,l,v,T,u],t,e);this.sequencer.addScene(h)},Intro.prototype.initializeScene13=function(e,t){var r=getStart(12),i=getEnd(12),a=new RotationBalls([5,3,4,3,2,2,2,0],[0,.8,.61,.54,.4,.35,.21,.17],[19.8,6.1,3.87,1.71,2.1,1.11,.4],function(e){var t={};return t.x=.09*(timerValue()-r)*Math.cos(e.level),t.y=.05*Math.cos(e.level)*(timerValue()-r),t.z=.4/Math.cos(e.level*(timerValue()/2e3-r)),t},"vecmultiply(vecmultiply(vecmultiply(veccos(createvector(x,time,x)),vecsin(createvector(y,x,y))),vecabs(vectan(createvector(x,x,x)))),createvector(0.7120,0.0284,y))"),o=new RotationBalls([2,3,4,0],[3,1.9,1.25,.375],[5.5,3.1,2.2,1.1],function(e){var t={};return t.x=.29*(timerValue()-r)*Math.cos(e.level),t.y=.4*Math.cos(e.level)*(timerValue()-r),t.z=.4/Math.cos(e.level*(timerValue()/200-r)),t},"vecmultiply(vecmultiply(vecmultiply(veccos(createvector(x,time,x)),vecsin(createvector(y,x,y))),vecabs(vectan(createvector(x,x,x)))),createvector(0.7120,0.0284,y))");balls13=a;var n="VECTAN(CREATEVECTOR(0.7337,0.2008,0.2437))",c="VECADD(VECMULTIPLY(VECCOS(VECMULTIPLY(VECSUBSTRACT(CREATEVECTOR(0.8047,TIME,0.3076),CREATEVECTOR(0.3042,X,0.4730)),CREATEVECTOR(Y,Y,Y))),VECTAN(CREATEVECTOR(0.1449,Y,Y))),CREATEVECTOR(Y,0.3816,0.0614))",s="VECDIV(VECTAN(CREATEVECTOR(0.1337,0.9008,0.6437)),VECSUBSTRACT(CREATEVECTOR(0.6990,0.1617,0.1529),VECSQR(VECSIN(VECSUBSTRACT(VECCOS(CREATEVECTOR(TIME,TIME,TIME)),VECMULTIPLY(VECSIN(CREATEVECTOR(X,Y,Y)),VECCOS(VECABS(CREATEVECTOR(Y,X,X)))))))))",E=new BackgroundInterpolationObject([n,c,s],5,[new Fader(r,r+.5,i-.5,i)]);E.initialize(e),a.initialize(e),o.initialize2(e,balls7.shaderProgram);var C=new Scene([E,a,o],t,e);this.sequencer.addScene(C)},Intro.prototype.initializeScene14=function(e,t){var r=getStart(13),i=getEnd(13),a="TIME * 3.0",o="DIVIDEPROTECTED(DIVIDEPROTECTED((DIVIDEPROTECTED("+a+",((SIN(7.0000)-Y)-X))*5.0000),SQR("+a+")),"+a+")",n="2.0",c="vecdiv(createvector(y,0.4960,x),vecsubstract(createvector(x,y,x),vecdiv(createvector(0.6722,x,x),vecdiv(veccos(vecsqr(createvector(y,y,y))),vecdiv(vectan(vecsubstract(vectan(createvector(y,x,x)),vectan(createvector(x,y,y)))),vecabs(vecsin(vecsqr(createvector(x,x,x)))))))))",s="vecsubstract(createvector(0.4348,0.3668,0.7623),vecdiv(vecsin(createvector(y,x,x)),vecadd(veccos(vecabs(createvector(x,x,x))),vecadd(vectan(createvector(y,x,x)),vectan(createvector(x,y,y)))))) ",E=new TextObject(this.fontStyles.logo,"PVM",o,n,c,s,[new Fader(5,7,12,13)],new AnimationProperties(0,2,3,3),t,e),C=new RotationBalls([6,3,4,3,2,2],[0,1.8,1.61,.54,.4,.35],[2.8,5.1,1.87,1.41,1.3],function(){var e={};return e.x=5*Math.random(),e.y=.01,e.z=1*Math.sin(265*Math.random()),e},"vecadd(vectan(vecsin(createvector(0.6191,0.5560,0.9758))),vecmultiply(vecmultiply(vectan(vecsubstract(vecmultiply(vectan(vecsubstract(vecabs(createvector(x,y,y)),vecsin(vecabs(createvector(y,x,x))))),vecsin(createvector(0.0748,0.0758,0.0612))),vecsin(veccos(createvector(0.8157,y,0.7878))))),vecabs(veccos(createvector(y,time,0.4963)))),vecsin(veccos(vecabs(createvector(y,x,x))))))"),l=new BackgroundInterpolationObject(["VECDIV(CREATEVECTOR(0.4583,0.3258,0.9447),VECMULTIPLY(VECCOS(CREATEVECTOR((X+TIME/1000.0),Y,(X+TIME/1000.0))),VECSUBSTRACT(VECCOS(VECSQR(CREATEVECTOR((X+TIME/1000.0),(X+TIME/1000.0),(X+TIME/1000.0)))),VECADD(VECTAN(CREATEVECTOR(Y,(X+TIME/1000.0),(X+TIME/1000.0))),VECTAN(CREATEVECTOR((X+TIME/1000.0),Y,Y))))))","VECCOS(VECADD(VECSQR(CREATEVECTOR(Y,Y,Y)),VECDIV(VECABS(CREATEVECTOR(0.8945,0.6784,0.5299)),VECMULTIPLY(VECCOS(CREATEVECTOR(X,Y,Y)),VECCOS(VECABS(CREATEVECTOR(Y,X,X)))))))"],3,[new Fader(r,r+.5,i-.5,i)]);l.initialize(e),C.initialize(e);var v=new Scene([l,C,E],t,e);this.sequencer.addScene(v)},Intro.prototype.initializeScene15=function(e,t){var r=getStart(14),i=getEnd(14),a=new RotationBalls([45,20,3,0],[0,1,.3,.1],[8.5,3.3,1.2,.25,.25],function(e){var t={};return t.x=Math.sin(1.5*e.level),t.y=0,t.z=.1*(1+4*e.level),t},"vecadd(vectan(createvector(0.7337,0.2008,0.2437)),vecmultiply(vecmultiply(vectan(vecsubstract(vecmultiply(vectan(vecsubstract(vecsqr(createvector(x,y,y)),vecsin(vecabs(createvector(y,x,x))))),vecsin(createvector(0.0748,0.0758,0.0612))),vecsin(veccos(createvector(0.8157,y,0.7878))))),vecabs(veccos(createvector(y,time,0.4963)))),vecsin(veccos(vecabs(createvector(y,x,x))))))"),o=new BackgroundInterpolationObject(["VECDIV(VECCOS(VECSUBSTRACT(VECABS(CREATEVECTOR(0.3097,0.9374,(Y+TIME/2.0))),CREATEVECTOR((Y+TIME/2.0),0.0430,X))),VECSUBSTRACT(VECSIN(CREATEVECTOR((Y+TIME/2.0),(Y+TIME/2.0),X)),VECDIV(VECCOS(VECSQR(CREATEVECTOR(X,X,X))),VECMULTIPLY(VECTAN(CREATEVECTOR((Y+TIME/2.0),X,X)),VECTAN(CREATEVECTOR(X,(Y+TIME/2.0),(Y+TIME/2.0)))))))"],1,[new Fader(r,r+.5,i-.5,i)]);o.initialize(e),a.initialize(e);var n=new Scene([o,a],t,e);this.sequencer.addScene(n)},Intro.prototype.initializeScene16=function(e,t){var r=getStart(15),i=getEnd(15),a=new BackgroundInterpolationObject(["CREATEVECTOR(0.0, 0.0, 0.0)"],1,[new Fader(r,r+.5,i-.5,i)]);a.initialize(e);var o=new Scene([a],t,e);this.sequencer.addScene(o)};var BallsVertexShaderSrc="attribute vec3 aVertexPosition; attribute vec2 aTextureCoord; attribute vec3 aVertexNormal; uniform mat4 uMVMatrix; uniform mat4 uPMatrix; uniform mat3 uNMatrix; uniform vec3 uAmbientColor; uniform vec3 uLightingDirection; uniform vec3 uDirectionalColor; varying vec2 vTextureCoord; varying vec3 vLightWeighting; void main(void) {   gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);    vTextureCoord = aTextureCoord; 	vec3 transformedNormal = uNMatrix * aVertexNormal; 	float directionalLightWeighting = max(dot(transformedNormal, uLightingDirection), 0.0); 	vLightWeighting = uAmbientColor + uDirectionalColor * directionalLightWeighting; 	float ax = gl_Position.x, ay = gl_Position.y, az = gl_Position.z; 	float v = 1.0 + (ax * ax + ay * ay + (az * (az + 35.0))) / 1000.0; 	vLightWeighting = vec3(vLightWeighting.r / v, vLightWeighting.g / v, vLightWeighting.b / v); }",BallsFragmentShaderSrc="precision mediump float;varying vec2 vTextureCoord;varying vec3 vLightWeighting;uniform sampler2D uSampler;uniform float time; vec3 veccos(in vec3 a) { return vec3(cos(a.x), cos(a.y), cos(a.z)); } vec3 vecsin(in vec3 a) { return vec3(sin(a.x), sin(a.y), sin(a.z)); } vec3 vectan(in vec3 a) { return vec3(tan(a.x), tan(a.y), tan(a.z)); } vec3 vecabs(in vec3 a) { return vec3(abs(a.x), abs(a.y), abs(a.z)); } vec3 vecsqr(in vec3 a) { return vec3(a.x * a.x, a.y * a.y, a.z * a.z); } vec3 vecadd(in vec3 a, in vec3 b) { return vec3(a.x + b.x, a.y + b.y, a.z + b.z); } vec3 vecsubstract(in vec3 a, in vec3 b) { return vec3(a.x - b.x, a.y - b.y, a.z - b.z); } vec3 vecmultiply(in vec3 a, in vec3 b) { return vec3(a.x * b.x, a.y * b.y, a.z * b.z); } vec3 vecdiv(in vec3 a, in vec3 b) { return vec3(a.x / b.x, a.y / b.y, a.z / b.z); } vec3 createvector(in float a, in float b, in float c) { return vec3(a, b, c); } vec3 veccolormap(in vec3 a, in vec3 b, in vec3 c) { return createvector(a.x / 10.0, b.x / 10.0, c.x / 10.0); } float divideprotected(in float x, in float y) { if (abs(y) < 0.001) return 0.0; return x / y; }float sqr(in float x) { return x * x; }void main(void) {	 float x = vTextureCoord.s * 10.0, y = vTextureCoord.t * 10.0;   	 vec3 t = TEXTUREFUNCTION;   	 gl_FragColor = vec4(t.rgb * vLightWeighting, 1.0); }";
RotationBalls.prototype.initialize=function(e){this.mvMatrix=mat4.create(),this.pMatrix=mat4.create(),this.calculateChildren(0,0),this.selfRotation={x:0,y:0,z:.1},this.children[0]=new RotationBallsNode(this),this.children[0].angle={x:0,y:0,z:0},this.children[0].initializeNode(0,0),this.initializeLists(e,8,8,1),this.initShaders(e,BallsVertexShaderSrc)},RotationBalls.prototype.initialize2=function(e,t){this.mvMatrix=mat4.create(),this.pMatrix=mat4.create(),this.calculateChildren(0,0),this.selfRotation={x:0,y:0,z:.1},this.children[0]=new RotationBallsNode(this),this.children[0].angle={x:0,y:0,z:0},this.children[0].initializeNode(0,0),this.initializeLists(e,8,8,1),this.shaderProgram=t},RotationBalls.prototype.initializeLists=function(e,t,r,i){for(var a=[],o=[],n=[],c=[],s=0;t>=s;s++)for(var E=s*Math.PI/t,C=Math.sin(E),l=Math.cos(E),v=0;r>=v;v++){var T=2*v*Math.PI/r,u=Math.sin(T),h=Math.cos(T),d=h*C,f=l,V=u*C,x=1-v/r,m=s/t;o.push(d),o.push(f),o.push(V),n.push(x),n.push(m),a.push(i*d),a.push(i*f),a.push(i*V)}for(var s=0;t>s;s++)for(var v=0;r>v;v++){var R=s*(r+1)+v,S=R+r+1;c.push(R),c.push(S),c.push(R+1),c.push(S),c.push(S+1),c.push(R+1)}this.vertexNormalBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.vertexNormalBuffer),e.bufferData(e.ARRAY_BUFFER,new Float32Array(o),e.STATIC_DRAW),this.vertexNormalBufferItemSize=3,this.vertexNormalBufferNumItems=o.length/3,this.vertexTextureCoordBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.vertexTextureCoordBuffer),e.bufferData(e.ARRAY_BUFFER,new Float32Array(n),e.STATIC_DRAW),this.vertexTextureCoordBufferItemSize=2,this.vertexTextureCoordBufferNumItems=n.length/2,this.vertexPositionBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.vertexPositionBuffer),e.bufferData(e.ARRAY_BUFFER,new Float32Array(a),e.STATIC_DRAW),this.vertexPositionBufferItemSize=3,this.vertexPositionBufferNumItems=a.length/3,this.vertexIndexBuffer=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.vertexIndexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(c),e.STATIC_DRAW),this.vertexIndexBufferItemSize=1,this.vertexIndexBufferNumItems=c.length},RotationBalls.prototype.update=function(){this.selfRotation.z+=.01;for(var e in this.children)this.children[e].update()},RotationBallsNode.prototype.initializeNode=function(e,t){var r=this.root.calculateChildren(e,0),i=360/r;this.level=e,this.child=t;for(var a=0;r>a;a++)this.children[a]=new RotationBallsNode(this.root),this.children[a].angle={},this.children[a].angle.x=0,this.children[a].angle.y=0,this.children[a].angle.z=a*i,this.children[a].initializeNode(e+1,a)},RotationBalls.prototype.initShaders=function(e,t){var r=e.createShader(e.VERTEX_SHADER);e.shaderSource(r,t),e.compileShader(r);var i=e.createShader(e.FRAGMENT_SHADER),a=BallsFragmentShaderSrc.replace("TEXTUREFUNCTION",this.texture);e.shaderSource(i,a),e.compileShader(i),this.shaderProgram=e.createProgram();var o=this.shaderProgram;e.attachShader(o,r),e.attachShader(o,i),e.linkProgram(o),e.getProgramParameter(o,e.LINK_STATUS)||console.log("Could not initialise shaders for rotation balls."),e.useProgram(o),o.vertexPositionAttribute=e.getAttribLocation(o,"aVertexPosition"),e.enableVertexAttribArray(o.vertexPositionAttribute),o.textureCoordAttribute=e.getAttribLocation(o,"aTextureCoord"),e.enableVertexAttribArray(o.textureCoordAttribute),o.vertexNormalAttribute=e.getAttribLocation(o,"aVertexNormal"),e.enableVertexAttribArray(o.vertexNormalAttribute),o.pMatrixUniform=e.getUniformLocation(o,"uPMatrix"),o.mvMatrixUniform=e.getUniformLocation(o,"uMVMatrix"),o.nMatrixUniform=e.getUniformLocation(o,"uNMatrix"),o.samplerUniform=e.getUniformLocation(o,"uSampler"),o.ambientColorUniform=e.getUniformLocation(o,"uAmbientColor"),o.lightingDirectionUniform=e.getUniformLocation(o,"uLightingDirection"),o.directionalColorUniform=e.getUniformLocation(o,"uDirectionalColor"),e.disableVertexAttribArray(o.textureCoordAttribute),e.disableVertexAttribArray(o.vertexNormalAttribute)},RotationBalls.prototype.render=function(e){e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight),mat4.perspective(45,e.drawingBufferWidth/e.drawingBufferHeight,.1,200,this.pMatrix),e.useProgram(this.shaderProgram),e.uniform3f(this.shaderProgram.ambientColorUniform,.5,.5,.5);var t=[-1,.5,-.5],r=vec3.create();vec3.normalize(t,r),vec3.scale(r,-1),e.uniform3fv(this.shaderProgram.lightingDirectionUniform,r),e.uniform3f(this.shaderProgram.directionalColorUniform,.99,.99,.99);var i=(timerValue(),e.getUniformLocation(this.shaderProgram,"time"));e.uniform1f(i,timerValue()),e.enable(e.DEPTH_TEST),e.depthFunc(e.GREATER),e.disable(e.CULL_FACE);var a=mat4.create();mat4.identity(a),mat4.translate(a,[0,0,-35]),mat4.rotate(a,this.selfRotation.z,[0,0,1]),e.bindBuffer(e.ARRAY_BUFFER,this.vertexPositionBuffer),e.vertexAttribPointer(this.shaderProgram.vertexPositionAttribute,this.vertexPositionBufferItemSize,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,this.vertexTextureCoordBuffer),e.vertexAttribPointer(this.shaderProgram.textureCoordAttribute,this.vertexTextureCoordBufferItemSize,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,this.vertexNormalBuffer),e.vertexAttribPointer(this.shaderProgram.vertexNormalAttribute,this.vertexNormalBufferItemSize,e.FLOAT,!1,0,0),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.vertexIndexBuffer),e.enableVertexAttribArray(this.shaderProgram.textureCoordAttribute),e.enableVertexAttribArray(this.shaderProgram.vertexNormalAttribute),this.children[0].render(e,a,this.pMatrix,this.shaderProgram),this.update()},RotationBalls.prototype.calculateChildren=function(e){return this.childrenses[e]},RotationBallsNode.prototype.radius=function(){return this.root.radiuses[this.level]},RotationBallsNode.prototype.distance=function(){return this.root.distances[this.level]},RotationBallsNode.prototype.render=function(e,t,r,i){var a=this.radius(),o=mat4.create();mat4.set(t,o),mat4.scale(o,[a,a,a]),this.drawNodeSphere(e,o,r,i);var n=this.distance();for(var c in this.children){var s=this.children[c].angle,o=mat4.create();mat4.set(t,o),mat4.rotate(o,degToRad(s.x),[1,0,0]),mat4.rotate(o,degToRad(s.y),[0,1,0]),mat4.rotate(o,degToRad(s.z),[0,0,1]),mat4.translate(o,[n,0,0]),this.children[c].render(e,o,r,i)}},RotationBallsNode.prototype.update=function(){var e=this.root.valueFunction(this);this.angle.x+=e.x,this.angle.y+=e.y,this.angle.z+=e.z;for(var t in this.children)this.children[t].update()},RotationBallsNode.prototype.drawNodeSphere=function(e,t,r,i){setMatrixUniforms(e,i,t,r),e.drawElements(e.TRIANGLES,this.root.vertexIndexBufferNumItems,e.UNSIGNED_SHORT,0)};var BallsVertexConstantLightShaderSrc="attribute vec3 aVertexPosition; attribute vec2 aTextureCoord; attribute vec3 aVertexNormal; uniform mat4 uMVMatrix; uniform mat4 uPMatrix; uniform mat3 uNMatrix; uniform vec3 uAmbientColor; uniform vec3 uLightingDirection; uniform vec3 uDirectionalColor; varying vec2 vTextureCoord; varying vec3 vLightWeighting; void main(void) {   gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);    vTextureCoord = aTextureCoord; 	vLightWeighting = vec3(1.0, 1.0, 1.0); }";RotationBallsNoLight.prototype=RotationBalls,RotationBallsNoLight.prototype.initialize=function(e){this.mvMatrix=mat4.create(),this.pMatrix=mat4.create(),this.calculateChildren(0,0),this.selfRotation={x:0,y:0,z:.1},this.children[0]=new RotationBallsNode(this),this.children[0].angle={x:0,y:0,z:0},this.children[0].initializeNode(0,0),this.initializeLists(e,8,8,1),this.initShaders(e,BallsVertexConstantLightShaderSrc)};var RGBBackgroundInterpolationVertexShaderSrc="attribute vec3 aVertexPosition; attribute vec2 aTextureCoord; uniform mat4 uMVMatrix; uniform mat4 uPMatrix; varying float xx, yy; void main(void) { 	vec2 coord = aTextureCoord; 	gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 2.0); 	xx = clamp(aVertexPosition.x,0.0,1.0); 	yy = clamp(aVertexPosition.y,0.0,1.0); }",RGBBackgroundInterpolationFragmentShaderSrc="precision mediump float; varying float xx; varying float yy; uniform float indexA; uniform float indexB; uniform float aa; uniform float va; uniform float vb; uniform float vc; uniform float vd; uniform float time; uniform float faderValue; uniform float wiggle; vec3 veccos(in vec3 a) { return vec3(cos(a.x), cos(a.y), cos(a.z)); } vec3 vecsin(in vec3 a) { return vec3(sin(a.x), sin(a.y), sin(a.z)); } vec3 vectan(in vec3 a) { return vec3(tan(a.x), tan(a.y), tan(a.z)); } vec3 vecabs(in vec3 a) { return vec3(abs(a.x), abs(a.y), abs(a.z)); } vec3 vecsqr(in vec3 a) { return vec3(a.x * a.x, a.y * a.y, a.z * a.z); } vec3 vecadd(in vec3 a, in vec3 b) { return vec3(a.x + b.x, a.y + b.y, a.z + b.z); } vec3 vecsubstract(in vec3 a, in vec3 b) { return vec3(a.x - b.x, a.y - b.y, a.z - b.z); } vec3 vecmultiply(in vec3 a, in vec3 b) { return vec3(a.x * b.x, a.y * b.y, a.z * b.z); } vec3 vecdiv(in vec3 a, in vec3 b) { return vec3(a.x / b.x, a.y / b.y, a.z / b.z); } vec3 createvector(in float a, in float b, in float c) { return vec3(a, b, c); } vec3 veccolormap(in vec3 a, in vec3 b, in vec3 c) { return createvector(a.x / 10.0, b.x / 10.0, c.x / 10.0); } void main(void) {  	float a = aa; 	float x = xx * 10.0, y = yy * 10.0; 	x += sin(time * 4.0 + 1.0 * 3.1415 * x) * wiggle; 	y += sin(time * 4.0 + 1.0 * 3.1415 * y) * wiggle; 	vec3 vaa, vbb;  FUNCIONES 	gl_FragColor = vec4((vaa.x * a + vbb.x * (1.0 - a)) * faderValue, (vaa.y * a + vbb.y * (1.0 - a)) * faderValue, (vaa.z * a + vbb.z * (1.0 - a)) * faderValue, 1.0); }";BackgroundInterpolationObject.prototype.initialize=function(e){this.mvMatrix=mat4.create(),this.pMatrix=mat4.create(),this.initBuffersRGB(e),this.initShadersRGBAnimate(e),this.frameSelector.initializeInterpolation(this.entity.length)},BackgroundInterpolationObject.prototype.render=function(e){var t=timerValue();e.useProgram(this.shaderProgram);for(var r in this.effects)this.effects[r].apply(this);this.frameSelector.updateInterpolationValues(this.entity.length);var i=e.getUniformLocation(this.shaderProgram,"va");e.uniform1f(i,t),i=e.getUniformLocation(this.shaderProgram,"vb"),e.uniform1f(i,globalVb),i=e.getUniformLocation(this.shaderProgram,"vc"),e.uniform1f(i,globalVc),i=e.getUniformLocation(this.shaderProgram,"vd"),e.uniform1f(i,globalVd),i=e.getUniformLocation(this.shaderProgram,"time"),e.uniform1f(i,timerValue()),i=e.getUniformLocation(this.shaderProgram,"faderValue"),e.uniform1f(i,this.transparencyValue);var a=(timerValue()-this.frameSelector.lastUpdate)/this.frameSelector.timeFrame;i=e.getUniformLocation(this.shaderProgram,"indexA"),e.uniform1f(i,this.frameSelector.indexA),i=e.getUniformLocation(this.shaderProgram,"indexB"),e.uniform1f(i,this.frameSelector.indexB),i=e.getUniformLocation(this.shaderProgram,"wiggle"),e.uniform1f(i,this.wiggle),i=e.getUniformLocation(this.shaderProgram,"aa");var o=1>a?a:1;e.uniform1f(i,1-o),e.disable(e.DEPTH_TEST),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight),mat4.identity(this.pMatrix),mat4.ortho(0,1,0,1,.1,100,this.pMatrix),mat4.identity(this.mvMatrix),mat4.translate(this.mvMatrix,[0,0,-10]),e.bindBuffer(e.ARRAY_BUFFER,this.squareVertexPositionBuffer),e.vertexAttribPointer(this.shaderProgram.vertexPositionAttribute,this.itemSize,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,this.squareVertexPositionBuffer),e.vertexAttribPointer(this.shaderProgram.textureCoordAttribute,this.itemSize,e.FLOAT,!1,0,0),this.setMatrixUniforms(e),e.drawArrays(e.TRIANGLE_STRIP,0,this.numItems)},BackgroundInterpolationObject.prototype.initBuffersRGB=function(e){this.squareVertexPositionBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.squareVertexPositionBuffer);var t=[2,2,0,0,2,0,2,0,0,0,0,0];e.bufferData(e.ARRAY_BUFFER,new Float32Array(t),e.STATIC_DRAW),this.itemSize=3,this.numItems=4},BackgroundInterpolationObject.prototype.initShadersRGBAnimate=function(e){var t=e.createShader(e.VERTEX_SHADER);e.shaderSource(t,RGBBackgroundInterpolationVertexShaderSrc),e.compileShader(t);for(var r=e.createShader(e.FRAGMENT_SHADER),i="if (false) {} ",a=0;a<this.entity.length;a++)i+=" else if (indexA == "+a+".0) { vaa = "+this.entity[a].toLowerCase()+"; } ";i+=" if (false) {} ";for(var a=0;a<this.entity.length;a++)i+=" else if (indexB == "+a+".0) { vbb = "+this.entity[a].toLowerCase()+"; } ";var o=RGBBackgroundInterpolationFragmentShaderSrc.replace("FUNCIONES",i);e.shaderSource(r,o),e.compileShader(r),this.shaderProgram=e.createProgram();var n=this.shaderProgram;e.attachShader(n,t),e.attachShader(n,r),e.linkProgram(n),e.getProgramParameter(n,e.LINK_STATUS)||console.log("Could not initialise shaders for "+this.entity),e.useProgram(n),n.vertexPositionAttribute=e.getAttribLocation(n,"aVertexPosition"),e.enableVertexAttribArray(n.vertexPositionAttribute),n.textureCoordAttribute=e.getAttribLocation(n,"aTextureCoord"),e.enableVertexAttribArray(n.textureCoordAttribute),n.pMatrixUniform=e.getUniformLocation(n,"uPMatrix"),n.mvMatrixUniform=e.getUniformLocation(n,"uMVMatrix")},BackgroundInterpolationObject.prototype.setMatrixUniforms=function(e){e.uniformMatrix4fv(this.shaderProgram.pMatrixUniform,!1,this.pMatrix),e.uniformMatrix4fv(this.shaderProgram.mvMatrixUniform,!1,this.mvMatrix)};