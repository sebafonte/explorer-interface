function TextSequencer(){this.parts={},this.addPart=function(){}}function TextEffect(){}function MovementEffect(){}function DisplacementEffect(t,e,r){this.prototype=MovementEffect,this.xValue=t,this.yValue=e,this.deltaPerSeconds=r}function FromOutsideEffect(){this.prototype=MovementEffect}function Centered(){this.prototype=MovementEffect,this.execute=function(){}}function Fader(t,e,r,a){this.startStart=t,this.startEnd=e,this.endStart=r,this.endEnd=a}function MovingFader(t,e,r,a){this.startStart=t,this.startEnd=e,this.endStart=r,this.endEnd=a}function AnimationProperties(t,e,r,a){this.x=t,this.y=e,this.sizeX=r,this.sizeY=a}function TextObject(t,e,r,a,i,o,n,s,c,v,f){this.text=e,this.font=t,this.shaderX=r,this.shaderY=a,this.texture=i,this.textureBorder=o,this.mvMatrix=mat4.create(),this.pMatrix=mat4.create(),this.effects=n,this.animation=s,this.globalScale=10,this.globalXRef=0,this.globalYRef=0,this.shadowEffectLayers=0,this.displacementCompression=1,this.initialize(c,v,f)}this.render=function(){},DisplacementEffect.prototype.apply=function(t){var e=timerValue()/this.deltaPerSeconds;t.animation.x+=e*this.xValue,t.animation.y+=e*this.yValue},Fader.prototype.apply=function(t){var e=timerValue();t.transparencyValue=e<this.startStart?0:e<this.startEnd?clamp(0,1,(e-this.startStart)/(this.startEnd-this.startStart)):e<this.endStart?1:e<this.endEnd?clamp(0,1,1-(e-this.endStart)/(this.endEnd-this.endStart)):0},MovingFader.prototype.apply=function(t){var e,r=timerValue();t.transparencyValue=1,e=r<this.startStart?1:r<this.startEnd?1-1*(r-this.startStart)/(this.startEnd-this.startStart):r<this.endStart?0:r<this.endEnd?0-1*(r-this.endStart)/(this.endEnd-this.endStart):-1,void 0==t.animation.originalX&&(t.animation.originalX=t.animation.x),t.animation.x=t.animation.originalX+3*e};var TextLogoFragmentShaderSrc="precision mediump float; varying vec2 vTextureCoord; uniform sampler2D uSampler; uniform highp float faderValue; varying float xx; varying float yy; uniform float va; uniform float vb; uniform float vc; uniform float vd; uniform float time; vec3 veccos(in vec3 a) { return vec3(cos(a.x), cos(a.y), cos(a.z)); } vec3 vecsin(in vec3 a) { return vec3(sin(a.x), sin(a.y), sin(a.z)); } vec3 vectan(in vec3 a) { return vec3(tan(a.x), tan(a.y), tan(a.z)); } vec3 vecabs(in vec3 a) { return vec3(abs(a.x), abs(a.y), abs(a.z)); } vec3 vecsqr(in vec3 a) { return vec3(a.x * a.x, a.y * a.y, a.z * a.z); } vec3 vecadd(in vec3 a, in vec3 b) { return vec3(a.x + b.x, a.y + b.y, a.z + b.z); } vec3 vecsubstract(in vec3 a, in vec3 b) { return vec3(a.x - b.x, a.y - b.y, a.z - b.z); } vec3 vecmultiply(in vec3 a, in vec3 b) { return vec3(a.x * b.x, a.y * b.y, a.z * b.z); } vec3 vecdiv(in vec3 a, in vec3 b) { return vec3(a.x / b.x, a.y / b.y, a.z / b.z); } vec3 createvector(in float a, in float b, in float c) { return vec3(a, b, c); } vec3 veccolormap(in vec3 a, in vec3 b, in vec3 c) { return createvector(a.x / 10.0, b.x / 10.0, c.x / 10.0); } float divideprotected(in float x, in float y) { if (abs(y) < 0.001) return 0.0; return x / y; }float sqr(in float x) { return x * x; }void main(void) { 	highp vec2 wiggledTexCoord = vTextureCoord; 	float x = wiggledTexCoord.s, y = wiggledTexCoord.t; 	wiggledTexCoord.s += VALUEPA; 	wiggledTexCoord.t += VALUEPB;    vec4 textureColor = texture2D(uSampler, vec2(wiggledTexCoord.s, wiggledTexCoord.t)); 	if (textureColor.r < 0.6) {		float x = wiggledTexCoord.s * 10.0, y = wiggledTexCoord.t * 10.0;		vec3 v = VALUE; 		float fillBorder = 0.0; 		if (texture2D(uSampler, vec2(wiggledTexCoord.s, wiggledTexCoord.t)).r > 0.0) fillBorder = 1.0; 		if (fillBorder < 0.01)  			gl_FragColor = vec4(v.x, v.y, v.z, faderValue); 		else { 			vec4 vb = vec4(VALUEBORDER, faderValue);  			gl_FragColor = vb; }	}  	else 		gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);}",TextLogoVertexShaderSrc="attribute vec3 aVertexPosition; attribute vec2 aTextureCoord; uniform mat4 uMVMatrix; uniform mat4 uPMatrix; varying vec2 vTextureCoord; varying vec3 vLightWeighting; void main(void) { 	gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0); 	vTextureCoord = aTextureCoord; 	vLightWeighting = vec3(1.0, 1.0, 1.0); }",TextLogoFragmentShaderSrc2="precision mediump float; varying vec2 vTextureCoord; uniform sampler2D uSampler; uniform highp float faderValue; varying float xx; varying float yy; uniform float va; uniform float vb; uniform float vc; uniform float vd; uniform float time; vec3 veccos(in vec3 a) { return vec3(cos(a.x), cos(a.y), cos(a.z)); } vec3 vecsin(in vec3 a) { return vec3(sin(a.x), sin(a.y), sin(a.z)); } vec3 vectan(in vec3 a) { return vec3(tan(a.x), tan(a.y), tan(a.z)); } vec3 vecabs(in vec3 a) { return vec3(abs(a.x), abs(a.y), abs(a.z)); } vec3 vecsqr(in vec3 a) { return vec3(a.x * a.x, a.y * a.y, a.z * a.z); } vec3 vecadd(in vec3 a, in vec3 b) { return vec3(a.x + b.x, a.y + b.y, a.z + b.z); } vec3 vecsubstract(in vec3 a, in vec3 b) { return vec3(a.x - b.x, a.y - b.y, a.z - b.z); } vec3 vecmultiply(in vec3 a, in vec3 b) { return vec3(a.x * b.x, a.y * b.y, a.z * b.z); } vec3 vecdiv(in vec3 a, in vec3 b) { return vec3(a.x / b.x, a.y / b.y, a.z / b.z); } vec3 createvector(in float a, in float b, in float c) { return vec3(a, b, c); } vec3 veccolormap(in vec3 a, in vec3 b, in vec3 c) { return createvector(a.x / 10.0, b.x / 10.0, c.x / 10.0); } float divideprotected(in float x, in float y) { if (abs(y) < 0.001) return 0.0; return x / y; }float sqr(in float x) { return x * x; }void main(void) { 	highp vec2 wiggledTexCoord = vTextureCoord; 	float x = wiggledTexCoord.s, y = wiggledTexCoord.t; 	wiggledTexCoord.s += VALUEPA; 	wiggledTexCoord.t += VALUEPB;    vec4 textureColor = texture2D(uSampler, vec2(wiggledTexCoord.s, wiggledTexCoord.t)); 	if (textureColor.r + textureColor.g + textureColor.b >= 0.02) {		float x = wiggledTexCoord.s * 10.0, y = wiggledTexCoord.t * 10.0;		vec4 v = textureColor; 		gl_FragColor = vec4(v.x, v.y, v.z, faderValue); 	}  	else 		gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);}";TextObject.prototype.initialize=function(t,e,r){this.fontShader=void 0==r?TextLogoFragmentShaderSrc:r,this.initializeVertexBuffer(e),this.initShadersTextLogo(e),this.scale=1},TextObject.prototype.initializeVertexBuffer=function(t){this.squareVertexPositionBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.squareVertexPositionBuffer);var e=[1,1,0,0,1,0,1,0,0,0,0,0];t.bufferData(t.ARRAY_BUFFER,new Float32Array(e),t.STATIC_DRAW),this.itemSize=3,this.numItems=4},TextObject.prototype.initShadersTextLogo=function(t){var e=t.createShader(t.VERTEX_SHADER);t.shaderSource(e,TextLogoVertexShaderSrc),t.compileShader(e);var r=t.createShader(t.FRAGMENT_SHADER),a=this.fontShader;a=a.replace("VALUESCALE",this.globalScale.toFixed(2).toString()),a=a.replace("VALUEXREF",this.globalXRef.toFixed(2).toString()),a=a.replace("VALUEYREF",this.globalYRef.toFixed(2).toString()),a=a.replace("VALUEPA",this.shaderX.toLowerCase()),a=a.replace("VALUEPB",this.shaderY.toLowerCase()),a=a.replace("VALUEBORDER",this.textureBorder.toLowerCase()),a=a.replace("VALUEBORDER",this.textureBorder.toLowerCase()),a=a.replace("VALUE",this.texture.toLowerCase()),t.shaderSource(r,a),t.compileShader(r),this.shaderProgram=t.createProgram();var i=this.shaderProgram;t.attachShader(i,e),t.attachShader(i,r),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||console.log("Could not initialise shaders."),t.useProgram(i),i.vertexPositionAttribute=t.getAttribLocation(i,"aVertexPosition"),t.enableVertexAttribArray(i.vertexPositionAttribute),i.textureCoordAttribute=t.getAttribLocation(i,"aTextureCoord"),t.enableVertexAttribArray(i.textureCoordAttribute),i.pMatrixUniform=t.getUniformLocation(i,"uPMatrix"),i.mvMatrixUniform=t.getUniformLocation(i,"uMVMatrix"),i.samplerUniform=t.getUniformLocation(i,"uSampler"),i.faderValue=t.getUniformLocation(i,"faderValue")},TextObject.prototype.setMatrixUniformsText=function(t){t.uniformMatrix4fv(this.shaderProgram.pMatrixUniform,!1,this.pMatrix),t.uniformMatrix4fv(this.shaderProgram.mvMatrixUniform,!1,this.mvMatrix)};var shitAngle=0;TextObject.prototype.render=function(t){var e=this.animation.sizeY,r=this.animation.sizeX;t.useProgram(this.shaderProgram);for(var a in this.effects)this.effects[a].apply(this);t.enable(t.BLEND),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight),mat4.identity(this.pMatrix),mat4.ortho(0,r,0,e,.1,100,this.pMatrix);var i=timerValue(),o=t.getUniformLocation(this.shaderProgram,"va");t.uniform1f(o,i),o=t.getUniformLocation(this.shaderProgram,"time"),t.uniform1f(o,timerValue()),o=t.getUniformLocation(this.shaderProgram,"faderValue"),t.uniform1f(o,this.transparencyValue),o=t.getUniformLocation(this.shaderProgram,"vb"),t.uniform1f(o,globalVb),o=t.getUniformLocation(this.shaderProgram,"vc"),t.uniform1f(o,globalVc),o=t.getUniformLocation(this.shaderProgram,"vd"),t.uniform1f(o,globalVd),t.bindBuffer(t.ARRAY_BUFFER,this.squareVertexPositionBuffer),t.vertexAttribPointer(this.shaderProgram.vertexPositionAttribute,this.itemSize,t.FLOAT,!1,0,0),t.bindBuffer(t.ARRAY_BUFFER,this.squareVertexPositionBuffer),t.vertexAttribPointer(this.shaderProgram.textureCoordAttribute,this.itemSize,t.FLOAT,!1,0,0),t.activeTexture(t.TEXTURE0);var n=this.animation.x,s=this.animation.y;if(o=t.getUniformLocation(this.shaderProgram,"faderValue"),t.disable(t.DEPTH_TEST),this.shadowEffectLayers>0){shitAngle+=.001;for(var c=Math.cos(shitAngle),v=Math.sin(shitAngle),f=0;f<this.shadowEffectLayers;f++){mat4.identity(this.mvMatrix);var h=.025*(f+1);mat4.translate(this.mvMatrix,[h*c,h*v,-.1]),t.uniform1f(o,this.transparencyValue/(f*f+2)),this.drawText(this.text,n,s,1,t,this.animation.charactersAnimation)}}mat4.identity(this.mvMatrix),mat4.translate(this.mvMatrix,[0,0,-.5]),t.uniform1f(o,this.transparencyValue),this.drawText(this.text,n,s,1,t,this.animation.charactersAnimation)},TextObject.prototype.drawText=function(t,e,r,a,i,o){var n=e;mat4.translate(this.mvMatrix,[e,r,0]),this.setMatrixUniformsText(i);var s=this.mvMatrix;s=mat4.create(),mat4.set(this.mvMatrix,s);for(var c=0;c<t.length;c++){i.uniformMatrix4fv(this.shaderProgram.mvMatrixUniform,!1,s),this.renderCharacter(t[c],n,r,a,i);var v=o?o.x:0,f=o?o.y:0;mat4.translate(s,[a/this.displacementCompression+v,f,0])}},TextObject.prototype.renderCharacter=function(t,e,r,a,i){i.bindTexture(i.TEXTURE_2D,this.font.characterTextures[t]),i.uniform1i(this.shaderProgram.samplerUniform,0),i.drawArrays(i.TRIANGLE_STRIP,0,this.numItems)};